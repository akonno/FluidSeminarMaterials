<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>PyGame-CEによるインタラクティブ表現入門その2：PyGame-CEの基本とアニメーション - 流体工学セミナー・教材集</title><meta property="og:title" content="PyGame-CEによるインタラクティブ表現入門その2：PyGame-CEの基本とアニメーション - 流体工学セミナー・教材集"/><meta name="generator" content="mystmd"/><meta name="keywords" content=""/><meta name="image" content="https://akonno.github.io/FluidSeminarMaterials//build/screenshot1-dd16b0e451fc3f3aca7ffa78b0bd824c.png"/><meta property="og:image" content="https://akonno.github.io/FluidSeminarMaterials//build/screenshot1-dd16b0e451fc3f3aca7ffa78b0bd824c.png"/><link rel="stylesheet" href="https://akonno.github.io/FluidSeminarMaterials//build/_assets/app-PKKJHBHV.css"/><link rel="stylesheet" href="https://akonno.github.io/FluidSeminarMaterials//build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="https://akonno.github.io/FluidSeminarMaterials//favicon.ico"/><link rel="stylesheet" href="https://akonno.github.io/FluidSeminarMaterials//myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="block px-2 py-1 text-black underline">Skip to article content</a></div><div class="bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="flex items-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="m-1"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="https://akonno.github.io/FluidSeminarMaterials//"><span class="text-md sm:text-xl tracking-tight sm:mr-5">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R758p:" data-state="closed" class="flex items-center h-10 aspect-square sm:w-64 text-left text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="hidden sm:block grow">Search</span><div aria-hidden="true" class="items-center hidden mx-1 font-mono text-sm text-gray-400 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="w-full px-1 dark:text-white"><a title="流体工学セミナー・教材集" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="https://akonno.github.io/FluidSeminarMaterials//">流体工学セミナー・教材集</a><a title="MiniforgeではじめるPythonプログラミング" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="https://akonno.github.io/FluidSeminarMaterials//miniforge">MiniforgeではじめるPythonプログラミング</a><a title="JupyterLabの導入" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="https://akonno.github.io/FluidSeminarMaterials//jupyterlab">JupyterLabの導入</a><a title="PyGame-CEによるインタラクティブ表現入門その1：PyGame-CEのインストールと実行" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="https://akonno.github.io/FluidSeminarMaterials//pygame1">PyGame-CEによるインタラクティブ表現入門その1：PyGame-CEのインストールと実行</a><a title="PyGame-CEによるインタラクティブ表現入門その2：PyGame-CEの基本とアニメーション" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="https://akonno.github.io/FluidSeminarMaterials//pygame2">PyGame-CEによるインタラクティブ表現入門その2：PyGame-CEの基本とアニメーション</a></div></nav></div><div class="flex-none py-6 transition-all duration-700 translate-y-6 opacity-0"><a class="flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="mb-8 pt-9"><div class="flex items-center mb-5 h-6 text-sm font-light"><div class="flex-grow"></div><div class="relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8u8p:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="mb-0">PyGame-CEによるインタラクティブ表現入門その2：PyGame-CEの基本とアニメーション</h1></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><aside class="myst-admonition myst-admonition-note my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden myst-admonition-default rounded border-l-4 border-blue-500"><div class="myst-admonition-header m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg><div class="myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Note</div></div><div class="myst-admonition-body px-4 py-1"><p>この回のゴール:</p><ol start="1"><li><p>pygame-ceでさまざまな図形を描ける</p></li><li><p>かんたんなアニメーションを描ける</p></li></ol></div></aside><h2 id="pygame-ce" class="relative group"><span class="heading-text">PyGame-CEプログラムの構成を学ぶ</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#pygame-ce" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>前回の教材で以下のようなプログラムを作成した．このプログラムの内容を理解していこう．</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import pygame

# 初期化
pygame.init()

# 400ピクセル×400ピクセルのウィンドウをつくる
WIDTH, HEIGHT = 400, 400
screen = pygame.display.set_mode((WIDTH, HEIGHT))
pygame.display.set_caption(&quot;PyGame-CE Program 1: basic drawing&quot;)

clock = pygame.time.Clock()
running = True

# メインループ
while running:
    # 1. イベント処理
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            running = False  # ウィンドウ右上の×で終了

    # 2. 背景を塗る
    screen.fill((220, 220, 220))  # R,G,B [0-255]

    # 3. 図形を描く
    # 青い円 (x=200, y=200, 半径30)
    pygame.draw.circle(screen, (0, 0, 255), (200, 200), 30)

    # 赤い四角形 (x=50, y=50, 幅80, 高さ80)
    pygame.draw.rect(screen, (255, 0, 0), (50, 50, 80, 80))

    # 4. 画面を更新
    pygame.display.flip()

    # 5. フレームレート制御 (1秒あたり60フレーム程度)
    clock.tick(60)

# 終了処理
pygame.quit()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>ポイント:</p><ul><li><p><code>while running:</code> の部分は、プログラムが動いている間くり返し処理を行う<strong>メインループ</strong>である。
この中でイベント（入力）を処理していることから、<strong>イベントループ</strong>と呼ばれることもある。</p></li><li><p><code>if event.type == pygame.QUIT:</code> は「ウィンドウを閉じる操作が来たらメインループから抜ける」という分岐である．メインループが<code>while running:</code>で回っているので，<code>running = False</code>とすればメインループから抜けることになる．</p></li><li><p><code>screen.fill((220, 220, 220))</code> は画面全体を灰色に塗りつぶしている．つまり画面の背景色を設定している．</p></li><li><p><code>pygame.draw.circle(screen, (0, 0, 255), (200, 200), 30)</code> は円を描いている．<code>(0, 0, 255)</code>の部分が色を，<code>(200, 200)</code>が中心の座標を，<code>30</code>が半径を表している．</p></li><li><p><code>pygame.draw.rect(screen, (255, 0, 0), (50, 50, 80, 80))</code> は四角形を描いている．<code>(255, 0, 0)</code>の部分が色を，<code>(50, 50, 80, 80)</code>がそれぞれ四角形の左上隅のx座標，左上隅のy座標，四角形の幅，四角形の高さを表している．四角形の中心の位置ではなく左上隅の位置を指定する点に注意．</p></li><li><p><code>clock.tick(60)</code>は画面の更新を1秒あたり最大60回に制限し、CPUを使い過ぎないようにする。これが無いとPCが全力で描画し続ける。（テレビ放送は1秒あたり30回画面を更新するので，毎秒60回の更新は十分に速い．）</p></li><li><p>メインループを抜けた後に実行される<code>pygame.quit()</code>は，ウィンドウやサブシステムのリソース（メモリ等）を明示的に解放する。</p></li></ul><p>メインループの中で円と四角形を描画しているので，つまりこのプログラムは「画面を灰色に塗りつぶしてから，円と四角形を描画する」という操作を何度も繰り返し行っている．しかし円と四角形を描画する位置が変わらないので，事実上，静止画を表示したのと同じことになっている．</p><h3 id="id" class="relative group"><span class="heading-text">座標系について</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>プログラム内で，円を(200, 200)の位置に，四角形を(50, 50)の位置に描いている．従ってそれぞれの図形は直線<span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">y=x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></span>の上に乗っているはずである．しかし画面上では図形は左上から右下方向の対角線上に表示され，円は四角形の右上ではなく右<strong>下</strong>に表示される．われわれの馴染んでいるxy座標系から考えると不自然である．これはなぜだろうか．</p><figure id="ODlJCxVRbp" class="fig-figure"><img id="B8nPIoF2rl" style="margin:0 auto" src="https://akonno.github.io/FluidSeminarMaterials//build/screenshot1-dd16b0e451fc3f3aca7ffa78b0bd824c.png" alt="例に示したプログラムにより描画される図形" data-canonical-url="./images/media/screenshot1.png" class=""/><figcaption class="group"><p>例に示したプログラムにより描画される図形</p></figcaption></figure><p>コンピューターグラフィックスでは，以下のような座標系を用いることが多い．</p><ul><li><p>画面の左上が原点(0, 0)</p></li><li><p>x座標は右向きが正</p></li><li><p>y座標は<strong>下</strong>向きが正</p></li></ul><figure id="zr1WP5Pzl5" class="fig-figure"><img id="aaUkjnRL0N" style="margin:0 auto" src="https://akonno.github.io/FluidSeminarMaterials//build/coordinate1.drawio-17a8d3760dd06098d6db2d2c597ddd7f.png" alt="コンピューターグラフィックスで一般的な座標系" data-canonical-url="./images/coordinate1.drawio.png" class=""/><figcaption class="group"><p>コンピューターグラフィックスで一般的な座標系</p></figcaption></figure><aside class="myst-admonition myst-admonition-note my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden myst-admonition-default rounded border-l-4 border-blue-500"><div class="myst-admonition-header m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg><div class="myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">例</div></div><div class="myst-admonition-body px-4 py-1"><p>ウィンドウサイズが400ピクセル×400ピクセルなので，<span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mn>200</mn><mo separator="true">,</mo><mn>200</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x, y) = (200, 200)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">200</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">200</span><span class="mclose">)</span></span></span></span></span>は画面の中央である。
半径30の円をそこに置いたのが上のコードの <code>pygame.draw.circle(...)</code> である。</p></div></aside><h3 id="id-1" class="relative group"><span class="heading-text">色の表現について</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>PyGameでは，色を<strong>RGB</strong>（アール・ジー・ビー）と呼ばれる方式で表現している。
RGBとは，光の三原色である<strong>赤</strong>（Red）・<strong>緑</strong>（Green）・<strong>青</strong>（Blue） のそれぞれの明るさを数値で指定して色を作る方法である。PyGameの場合はそれぞれの明るさを0～255の256段階（8ビット）で指定する．</p><p>たとえば<code>screen.fill((220, 220, 220))</code>は，赤・緑・青をすべて「220」という明るめの値にしている。
0〜255の範囲で数値を指定でき，3つの値がすべて同じだと「白から黒までの灰色」になる。
この場合はやや明るい灰色で画面全体を塗りつぶしている。</p><p>一方，<code>pygame.draw.circle(screen, (0, 0, 255), (200, 200), 30)</code>の<code>(0, 0, 255)</code>は，赤と緑を0（まったく光らせない），青を255（最大の明るさ）にしている。
そのため，この命令は鮮やかな青の円を描くことになる。</p><p>このように，RGBの3つの値を変えることで，赤っぽい・緑っぽい・青っぽい色や，中間のさまざまな色を自由に作ることができる。</p><p>参考：<a target="_blank" rel="noreferrer" href="https://www.rapidtables.com/web/color/RGB_Color.html" class="">RapidTables『RGB Color Codes』</a></p><figure id="rN8lPmJTQ2" class="fig-figure"><img id="VonNGHDssb" style="margin:0 auto" src="https://akonno.github.io/FluidSeminarMaterials//build/colorsample-3a271cc6432276cce129a111d2dceb10.png" alt="さまざまな色で描画した四角形" data-canonical-url="./images/media/colorsample.png" class=""/><figcaption class="group"><p>さまざまな色で描画した四角形</p></figcaption></figure><h2 id="id-2" class="relative group"><span class="heading-text">プログラムの改造：マウスのクリック状態取得とスクリーンショット保存機能</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-2" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>今後の演習において画面のスクリーンショットを撮る機能と，マウスの状態を得る機能を入れておくと便利なので，今のうちに入れておく．メインループの前に<code>mouseClicked</code>というブール変数を用意し，またSキーが押されたときにスクリーンショットを<code>screenshot.png</code>というファイルに保存する機能を入れる．</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># ...（途中省略）
mouseClicked = False

while running:
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            running = False
        # マウスのクリック状態取得
        elif event.type == pygame.MOUSEBUTTONUP:
            mouseClicked = False
        elif event.type == pygame.MOUSEBUTTONDOWN:
            mouseClicked = True
        # Sキーでスクリーンショット保存
        elif event.type == pygame.KEYDOWN and event.key == pygame.K_s:
            pygame.image.save(screen, &quot;screenshot.png&quot;)
            print(&quot;Screenshot saved.&quot;)
    
    # ...（以下省略）</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="id-3" class="relative group"><span class="heading-text">演習</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-3" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>プログラムを実行してSキーを押し，スクリーンショットが保存されることを確かめよ．</p><h2 id="id-4" class="relative group"><span class="heading-text">かんたんなアニメーション</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-4" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>アニメーションとは、少しずつ変化した絵を高速で描き直すことで動いているように見せる仕組みである。
先ほどのプログラムでは，この「描き直し」を1秒間に60回実行している。</p><p>円を動かしてみよう．つまり，円を描画する位置をメインループの中で変えてみよう．</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">x1 = 200
# メインループ
while running:
    # ...（途中省略）

    # 3. 図形を描く
    # 青い円 (x=x1, y=200, 半径30)
    pygame.draw.circle(screen, (0, 0, 255), (x1, 200), 30)

    # x1を更新
    x1 += 1
    if x1 &gt;= WIDTH:
        x1 = 0</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>これで，青い円が左から右に動くはずである．</p><h3 id="id-5" class="relative group"><span class="heading-text">演習</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-5" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li><p>赤い四角形も同じように動かしてみよ．</p></li><li><p>今のプログラムだと円の中心が右端にかかると，急に左端に移動する．円が右端を抜けきってから，左端から滑らかに入ってくるように変更せよ．</p></li><li><p>それぞれの図形を斜めに動くようにしてみよ．異なる動き方をすることが望ましい．</p></li><li><p>図形の色がだんだん変わるようにしてみよ．</p></li></ul><h2 id="id-6" class="relative group"><span class="heading-text">さまざまな図形の描画</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-6" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><h3 id="id-7" class="relative group"><span class="heading-text">外周と塗りつぶし</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-7" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>PyGameで図形を描画するとき，内側を塗りつぶさずに外周だけを描きたいときは，外周の太さを指定する．たとえば次のように指定すると，左側には青く塗りつぶされた四角形が，右側には外周のみ青い線で描かれた四角形が表示される．メインループの中で図形を描画しているところを，以下のように変更してみよう．</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">    pygame.draw.rect(screen, (0, 0, 255), (50, 50, 80, 80))
    pygame.draw.rect(screen, (0, 0, 255), (150, 50, 80, 80), 2)    # 線の太さ＝2</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>このように線の太さを指定しなければ塗りつぶしに，太さを指定すれば外周のみになる．</p><figure id="etH2rkAlM9" class="fig-figure"><img id="KH0DelxuoG" style="margin:0 auto" src="https://akonno.github.io/FluidSeminarMaterials//build/screenshot2-f54ecdadd628d074e9b6dde4b4c4a6e0.png" alt="塗りつぶした四角形と外周のみの四角形" data-canonical-url="./images/media/screenshot2.png" class=""/><figcaption class="group"><p>塗りつぶした四角形と外周のみの四角形</p></figcaption></figure><p>外周と塗りつぶしを別の色にしたい場合は，最初に塗りつぶしてから，同じ場所にもういちど外周を描けば良い．</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">    pygame.draw.rect(screen, (0, 255, 255), (50, 50, 80, 80))     # 水色で塗りつぶし
    pygame.draw.rect(screen, (0, 0, 0), (50, 50, 80, 80), 2)    # 外周は黒い線で描く</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><figure id="YiBM2RsFwr" class="fig-figure"><img id="JA3hh55bln" style="margin:0 auto" src="https://akonno.github.io/FluidSeminarMaterials//build/screenshot3-a9e960eea2db5a94d4167a5d198b55d2.png" alt="塗りつぶしと外周とで異なる色を用いて描画した四角形" data-canonical-url="./images/media/screenshot3.png" class=""/><figcaption class="group"><p>塗りつぶしと外周とで異なる色を用いて描画した四角形</p></figcaption></figure><p>円や，このあと紹介する楕円なども同様に塗りつぶしと外周のみの描画を切り替えることができる．</p><h3 id="id-8" class="relative group"><span class="heading-text">演習</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-8" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>円にも外周を描いてみよ．</p><h3 id="id-9" class="relative group"><span class="heading-text">楕円</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-9" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>楕円の描画には<code>pygame.draw.ellipse(...)</code>を用いる．楕円を囲む四角形の左上隅の座標と，横幅，高さを指定する．<code>rect</code>のときと同様である．</p><p>以下に示す例では，座標<span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>200</mn><mo separator="true">,</mo><mn>200</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(200, 200)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">200</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">200</span><span class="mclose">)</span></span></span></span></span>の位置に半径100の円，横幅100，高さ50の矩形（外周のみ），横幅100，高さ50の楕円を描いている．</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">    pygame.draw.circle(screen, (255, 0, 0), (200, 200), 100)
    pygame.draw.rect(screen, (0, 0, 0), (200, 200, 100, 50), 2)
    pygame.draw.ellipse(screen, (0, 0, 255), (200, 200, 100, 50))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><figure id="Op9JUKzzrQ" class="fig-figure"><img id="Huf9OknPsB" style="margin:0 auto" src="https://akonno.github.io/FluidSeminarMaterials//build/screenshot4-d40bbc48dd00a5a5017581818d3ef7a5.png" alt="(200, 200)の位置に半径100の円，100×50の四角形（外周のみ），100×50の楕円を描画した例" data-canonical-url="./images/media/screenshot4.png" class=""/><figcaption class="group"><p>(200, 200)の位置に半径100の円，100×50の四角形（外周のみ），100×50の楕円を描画した例</p></figcaption></figure><p>円を描画する場合と，四角形や楕円を描画する場合とで書き方が異なることを理解してほしい．円は中心の位置（座標）と半径を，四角形や楕円は左上隅の座標と横幅，高さを指定する．</p><p>また，あとから描かれた図形が上に描画されることも理解せよ．描画する順序を逆にすると，円が上から描かれるので四角形や楕円は端部しか見えなくなる．</p><figure id="GhTOdT3xfp" class="fig-figure"><img id="qg2tjxb1kP" style="margin:0 auto" src="https://akonno.github.io/FluidSeminarMaterials//build/screenshot5-83c569f4657605d11125eaf8d2ad1008.png" alt="描画順序を楕円 --&gt; 四角形 --&gt; 円に変えた例．円が重なるため，四角形と楕円は端部しか表示されない．" data-canonical-url="./images/media/screenshot5.png" class=""/><figcaption class="group"><p>描画順序を楕円 --&gt; 四角形 --&gt; 円に変えた例．円が重なるため，四角形と楕円は端部しか表示されない．</p></figcaption></figure><h3 id="id-10" class="relative group"><span class="heading-text">発展：半透明の図形を描く</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-10" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>先ほどの描画例を改造し，円を半透明にしてみよう．</p><p>PyGameでは、画面全体を常時半透明対応にするのではなく、必要な部分だけを半透明に描画する仕組みになっている。これは、ゲームのように毎秒多数の描画を行うリアルタイム処理において、高速化を最優先とした設計である。画面全体で透明度を指定できるように（アルファチャンネル付きに）すると、すべてのピクセルで透明度の計算が必要となり、描画速度が大きく低下する。そのため、PyGameでは基本の表示面は不透明（RGB）とし、半透明を用いる場合は別の透明対応Surfaceを作成して重ねる方式を採用している。こうした設計により、PyGameは処理負荷を抑えつつ、必要な場面でのみ透明表現を実現できるようになっている。</p><p>なおPillowのように静止画を生成するプログラムでは、ピクセルごとに色と透明度を指定できるアルファチャンネル付きの表示が一般的である。
これは、静止画の生成では計算速度よりも表現の正確さや画質が重視されるためであり、透明度の処理を行っても性能上の問題が生じにくいためである。</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># メインループの外で、アルファチャンネルをサポートしたSurfaceを作る．
surface = pygame.Surface((WIDTH, HEIGHT), pygame.SRCALPHA)

while running:
    # ...（途中省略）...

    pygame.draw.ellipse(screen, (0, 0, 255), (200, 200, 100, 50))
    pygame.draw.rect(screen, (0, 0, 0), (200, 200, 100, 50), 2)
    # surfaceを完全透明にクリア
    surface.fill((0, 0, 0, 0))
    # 円を半透明にしたいので，surfaceの上にアルファチャンネルを指定して描画
    pygame.draw.circle(surface, (255, 0, 0, 128), (200, 200), 100)
    # surfaceをscreenに重ねて描画
    screen.blit(surface, (0, 0))
</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><figure id="nVyTI2IlGC" class="fig-figure"><img id="YNR1BJbDhg" style="margin:0 auto" src="https://akonno.github.io/FluidSeminarMaterials//build/screenshot6-383d61ab4e8cdd47568041d89aceea05.png" alt="円を半透明にした例．描画順序は楕円 --&gt; 四角形 --&gt; 円だが，円が半透明なので四角形と楕円が透けて見える．" data-canonical-url="./images/media/screenshot6.png" class=""/><figcaption class="group"><p>円を半透明にした例．描画順序は楕円 --&gt; 四角形 --&gt; 円だが，円が半透明なので四角形と楕円が透けて見える．</p></figcaption></figure><p>これまでは色の指定に<code>(255, 0, 0)</code>とRGBで指定してきたが，今回は円を描くとき<code>(255, 0, 0, 128)</code>と第4の数値を指定している．これが<strong>アルファチャンネル</strong>で，透明度を表す．0だと完全に透明，255だと不透明である．透明度を変えながら図形を描いてみよう．</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">    # はじめに細長い四角形を描画しておく．透明度を確認するため．
    pygame.draw.rect(screen, (0, 0, 255), (0, 195, 400, 10))
    # 円を透明度を変えつつ複数描画
    pygame.draw.circle(surface, (255, 0, 0, 0), (100, 200), 20)
    pygame.draw.circle(surface, (255, 0, 0, 64), (150, 200), 20)
    pygame.draw.circle(surface, (255, 0, 0, 128), (200, 200), 20)
    pygame.draw.circle(surface, (255, 0, 0, 192), (250, 200), 20)
    pygame.draw.circle(surface, (255, 0, 0, 255), (300, 200), 20)
    # 最初の円が見えなくなる（はずな）ので，外周を黒で描画しておく
    pygame.draw.circle(surface, (0, 0, 0, 255), (100, 200), 20, 1)
    screen.blit(surface, (0, 0))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><figure id="Ul4J4VyJMI" class="fig-figure"><img id="zyAzaTZ870" style="margin:0 auto" src="https://akonno.github.io/FluidSeminarMaterials//build/screenshot7-bf32d93dbc442ce26694042f4dddf314.png" alt="円を透明度を変えながら表示している例．左から0，64，128，192，255と設定している．透明度0の円は表示されないので，そこだけ外枠を描画している．" data-canonical-url="./images/media/screenshot7.png" class=""/><figcaption class="group"><p>円を透明度を変えながら表示している例．左から0，64，128，192，255と設定している．透明度0の円は表示されないので，そこだけ外枠を描画している．</p></figcaption></figure><h3 id="id-11" class="relative group"><span class="heading-text">多角形</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-11" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>三角形や五角形，星形など多角形（凹多角形を含む）を描画するには，<code>pygame.draw.polygon(...)</code>を用いる．点の座標をリストで与える．</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">    pygame.draw.polygon(screen, (255, 0, 0), [(100, 50), (50, 150), (150, 150)])
    pygame.draw.polygon(screen, (0, 0, 255), [(250, 150), (200, 250), (300, 250), (325, 200)])</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><figure id="hLM18CdusS" class="fig-figure"><img id="dk8WglMtXU" style="margin:0 auto" src="https://akonno.github.io/FluidSeminarMaterials//build/screenshot8-ead8c2ef2a416404cda6acde614fb781.png" alt="多角形を描画している例．この例では三角形と不等辺の四角形を描画している．" data-canonical-url="./images/media/screenshot8.png" class=""/><figcaption class="group"><p>多角形を描画している例．この例では三角形と不等辺の四角形を描画している．</p></figcaption></figure><p>星形を描いてみよう．はじめは頂点の5点を座標で指定し，外形を描いてみる．</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">    pygame.draw.polygon(screen, (0, 0, 0), [(200, 50), (260, 300),
        (100, 150), (300, 150), (140, 300)], 1) </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><figure id="BlUVyMWxkB" class="fig-figure"><img id="NGOUuoAGJl" style="margin:0 auto" src="https://akonno.github.io/FluidSeminarMaterials//build/screenshot9-c571d688d74c1e69ea524764feaefbb0.png" alt="星形を描画（外形線のみ）" data-canonical-url="./images/media/screenshot9.png" class=""/><figcaption class="group"><p>星形を描画（外形線のみ）</p></figcaption></figure><p>黒線で星形が描かれるはずである．今度はこれを塗りつぶしてみよう．</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">    pygame.draw.polygon(screen, (255, 255, 0), [(200, 50), (260, 300),
        (100, 150), (300, 150), (140, 300)]) 
    pygame.draw.polygon(screen, (0, 0, 0), [(200, 50), (260, 300), (100, 150),
        (300, 150), (140, 300)], 1) </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><figure id="TzuzF9gk1B" class="fig-figure"><img id="jGl15R9qfd" style="margin:0 auto" src="https://akonno.github.io/FluidSeminarMaterials//build/screenshot10-a8a1f0bea4412c2acd0cbf69ed0513a8.png" alt="星形を描画（塗りつぶしあり）" data-canonical-url="./images/media/screenshot10.png" class=""/><figcaption class="group"><p>星形を描画（塗りつぶしあり）</p></figcaption></figure><p>中央部分が塗りつぶされていない．実際に動かして確認してみよ．</p><p>これはコンピューターグラフィックスの塗りつぶし動作で一般的な<strong>奇偶ルール</strong>（even-odd rule）に基づいて塗りつぶされているからである．奇偶ルールは、多角形の内部を決定するための方法の一つであり、コンピューターグラフィックスの分野で広く用いられている。</p><p>この規則では、ある点から無限遠に線を引いたときに図形の辺と交わる回数が奇数であればその点は内部、偶数であれば外部と判断される。
SVG、PDF、PostScriptなど多くの描画システムでも採用されており、PyGameの多角形描画もこの方式に基づいている。</p><p>星形に関して言うと，内側の点から外に向かって線を引くと，星形の中央の五角形部分では外形線と必ず2回交差する．（五角形の頂点を通れば1回に見えるかもしれないが，そこは2本の外形線が重なっている．）従って中央の五角形部分が内側だと見做されないのである．</p><p>内側も含めて塗りつぶしたいときは，五角形の頂点（星形から見ると凹になっている頂点）も含めて10点の頂点を指定するのが確実である．</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">    pygame.draw.polygon(screen, (255, 255, 0), [(200, 50), (220, 150),
        (300, 150), (240, 200), (260, 300), (200, 240),
        (140, 300), (160, 200), (100, 150), (180, 150)])
    pygame.draw.polygon(screen, (0, 0, 0), [(200, 50), (220, 150),
        (300, 150), (240, 200), (260, 300), (200, 240),
        (140, 300), (160, 200), (100, 150), (180, 150)], 1)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><figure id="wG6HeWcCFI" class="fig-figure"><img id="TBOH8lKhhN" style="margin:0 auto" src="https://akonno.github.io/FluidSeminarMaterials//build/screenshot11-f59f2237bfd9518437583a6abcc4941a.png" alt="星形を描画（凹の頂点を含め10点を指定）" data-canonical-url="./images/media/screenshot11.png" class=""/><figcaption class="group"><p>星形を描画（凹の頂点を含め10点を指定）</p></figcaption></figure><h3 id="id-12" class="relative group"><span class="heading-text">線分と折れ線</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-12" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>線分と折れ線を描いてみよう．それぞれ<code>pygame.draw,line(...)</code>と<code>pygame.draw.lines(...)</code>を用いる．線分では始点と終点の2点を並べて，折れ線では接続する点の座標をリストとして指定する．</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">        pygame.draw.line(screen, (255, 0, 0), (50, 50), (350, 350), 3)  # 線分
        pygame.draw.lines(screen, (0, 0, 255), False, [(50, 350), (150, 250),
            (250, 350), (350, 250)], 2)  # 折れ線</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><figure id="ypeBAiP5Vy" class="fig-figure"><img id="XcoCrJ3Vr6" style="margin:0 auto" src="https://akonno.github.io/FluidSeminarMaterials//build/screenshot12-ec38e3945250c4e6ff74e4736b09a746.png" alt="線分と折れ線を描画" data-canonical-url="./images/media/screenshot12.png" class=""/><figcaption class="group"><p>線分と折れ線を描画</p></figcaption></figure><p><code>pygame.draw.lines</code>の3番目の引数に<code>False</code>と書いてあるが，これは折れ線を閉じるか否か，つまり，折れ線の先端の点と末尾の点とを線で結ぶかを指定する．線で結んだ場合は，<code>pygame.draw.polygon</code>で外形線を描いたときと同じように動作する．ただし<code>pygame.draw.lines</code>には内側を塗りつぶす機能は無い．これも試してみよう．</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">        pygame.draw.lines(screen, (0, 0, 255), True, [(50, 150), (150, 50),
            (250, 150), (350, 50)], 2)  # lines
        pygame.draw.polygon(screen, (0, 0, 255), [(50, 250), (150, 150),
            (250, 250), (350, 150)], 2)  # polygon, 外形線のみ
        pygame.draw.polygon(screen, (0, 0, 255), [(50, 350), (150, 250),
            (250, 350), (350, 250)])  # polygon 塗りつぶし</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><figure id="MlFUwqUWz1" class="fig-figure"><img id="T3ARy2IFq5" style="margin:0 auto" src="https://akonno.github.io/FluidSeminarMaterials//build/screenshot13-d7d5932aef8b347325bfec94e341754a.png" alt="上からlines, polygon（外形線のみ），polygon（塗りつぶし）で描画した図形" data-canonical-url="./images/media/screenshot13.png" class=""/><figcaption class="group"><p>上からlines, polygon（外形線のみ），polygon（塗りつぶし）で描画した図形</p></figcaption></figure><h3 id="id-13" class="relative group"><span class="heading-text">描画を繰り返す</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-13" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Pythonのプログラムなので，描画も当然ループを使って繰り返したり，条件分岐で色を変えたりすることができる．</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">    for i in range(10):
        pygame.draw.rect(screen, (0, 255 - i * 20, i * 20), (20 + i * 30, 20 + i * 30, 80, 80))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><figure id="fp8jBNhhuO" class="fig-figure"><img id="rztjfX19Kk" style="margin:0 auto" src="https://akonno.github.io/FluidSeminarMaterials//build/screenshot14-c78c5e990964401c4b69d464ee82faec.png" alt="位置と色を変えながら連続して描いた四角形の例" data-canonical-url="./images/media/screenshot14.png" class=""/><figcaption class="group"><p>位置と色を変えながら連続して描いた四角形の例</p></figcaption></figure><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">    pygame.draw.rect(screen, (0, 0, 240), (40, 10, 100, 380))
    # 長い斜め四角形
    slide = 18
    for i in range(3):
        pygame.draw.polygon(screen, (255, 200, 0),
                            [(40 + i * slide, 260 + i * slide), (140 + i * slide, 160 + i * slide),
                                (150 + i * slide, 170 + i * slide), (50 + i * slide, 270 + i * slide)])
    # 短い斜め四角形
    for i in range(3):
        pygame.draw.polygon(screen, (255, 200, 0),
                            [(40 + (i+3) * slide, 260 + (i+3) * slide), (90 + (i+3) * slide, 210 + (i+3) * slide),
                                (100 + (i+3) * slide, 220 + (i+3) * slide), (50 + (i+3) * slide, 270 + (i+3) * slide)])</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><figure id="blNj5YG1Bj" class="fig-figure"><img id="D31fnf8w9c" style="margin:0 auto" src="https://akonno.github.io/FluidSeminarMaterials//build/screenshot15-f716aca4431f2143b9afd8d29327e065.png" alt="位置を変えながら連続して描いた多角形の例" data-canonical-url="./images/media/screenshot15.png" class=""/><figcaption class="group"><p>位置を変えながら連続して描いた多角形の例</p></figcaption></figure><h3 id="id-random" class="relative group"><span class="heading-text">ランダムに図形を描く―randomの利用</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-random" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>ゲームやインタラクティブアートのプログラミングでは，常に同じ場所に図形を描画するのではなく，ランダムに位置や色を変えたほうが良い場合がある．ここでは乱数を用いてランダムな位置に図形を描いてみよう．</p><p><code>random</code>モジュールをインポートすると，整数の一様乱数<code>random.randint</code>を使えるようになるので，これを用いる．</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import random

while running:
    # ...（途中省略）
    for i in range(50):
        x = random.randint(0, WIDTH)
        y = random.randint(0, HEIGHT)
        radius = random.randint(10, 50)
        color = (random.randint(0, 255), random.randint(0, 255), random.randint(0, 255))
        pygame.draw.circle(screen, color, (x, y), radius)
    # ...（以下省略）</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p><code>random.randint(0, 255)</code>は0～255の範囲の整数乱数を生成する．</p><p>このプログラムを実行すると，フレームごとに円をランダムに描画するので，多数の円が高速に表示されたり消えたりするように見えるはずである．</p><figure id="M2nKH7CF95" class="fig-figure"><img id="ynvWzR6mfu" style="margin:0 auto" src="https://akonno.github.io/FluidSeminarMaterials//build/screenshot16-fc8e910d18fe05841a32469e201b1dc0.png" alt="ランダムに表示された円の例．色も位置もランダムに決められている．この画面は静止画だが，実際にはこのような画面が高速に切り替わりながら表示される．" data-canonical-url="./images/media/screenshot16.png" class=""/><figcaption class="group"><p>ランダムに表示された円の例．色も位置もランダムに決められている．この画面は静止画だが，実際にはこのような画面が高速に切り替わりながら表示される．</p></figcaption></figure><h3 id="id-14" class="relative group"><span class="heading-text">演習</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-14" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>円がランダムに配置されるが，それが切り替わらずに静止画として表示されるようにせよ．たとえばメインループ外で一度だけ乱数で座標を作り，それをリストに保存しておいてメインループ内でそれを使って描くなどの方法が考えられる．</p><h2 id="id-15" class="relative group"><span class="heading-text">マウスカーソルの位置に円を描く</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-15" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>「インタラクティブだ」と感じてもらうために，マウスの動きに追随する円を描画してみよう．
マウスカーソルの位置は<code>mx, my = pygame.mouse.get_pos()</code>で得られるので，その位置に円を描くと良い．</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">    # マウス位置を取得
    mx, my = pygame.mouse.get_pos()

    # マウスのところに青い円
    pygame.draw.circle(screen, (0, 0, 255), (mx, my), 20)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>このプログラムを実行すると，マウスポインタを追いかける青い円が表示されるはずである．
これにより「リアルタイム入力 → 描画」というゲームやインタラクティブアートの基本となる機能が使えるようになった．</p><h3 id="id-16" class="relative group"><span class="heading-text">演習</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-16" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>マウスのボタンを押しているときは赤い円が，押していないときは青い円が描かれるようにせよ．</p><h2 id="id-lms" class="relative group"><span class="heading-text">課題（LMS提出）</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-lms" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><aside class="myst-admonition myst-admonition-note my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden myst-admonition-default rounded border-l-4 border-blue-500"><div class="myst-admonition-header m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg><div class="myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">課題</div></div><div class="myst-admonition-body px-4 py-1"><p>以下の課題に取り組み，その結果をレポートにまとめ，KU-LMSから提出せよ．
提出方法および提出期限はKU-LMSで確認せよ．</p><ol start="1"><li><p>今回の演習で実行した結果の画面をどれかひとつ，レポートに添付せよ．できるだけ後半の課題にするのが望ましい．</p></li><li><p>これまで学んできた知識を用いて，独自のプログラムを作成し，適当な図形を作れ．そのプログラムおよび図形をレポートに添付せよ．凝った図形が望ましい．単純でつまらない図形は対象外とする．なお参考書，ウェブサイトなどでPyGameの機能を調べ，この資料には書かれていない機能を使った図形を作成してもよい．その場合は使用した機能を説明せよ．（アンパンマンの顔を提出する履修者が多いので，アンパンマンは禁止とします．）</p></li></ol></div></aside><h2 id="id-17" class="relative group"><span class="heading-text">ライセンス</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-17" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><aside class="myst-admonition myst-admonition-note my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden myst-admonition-default rounded border-l-4 border-blue-500"><div class="myst-admonition-header m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg><div class="myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Note</div></div><div class="myst-admonition-body px-4 py-1"><p>このページの本文と図版は CC BY-NC-SA 4.0 とします。<br/>サンプルコードは MIT License とします。<br/>一部の学生作品のスクリーンショットなどはこの限りではありません。<br/>提出物（あなた自身のコードやスクリーンショット）は，ポートフォリオや就職活動で自由に使ってよいものとします。</p></div></aside><div></div><div class="flex pt-10 mb-10 space-x-4"><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="https://akonno.github.io/FluidSeminarMaterials//pygame1"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="text-xs text-gray-500 dark:text-gray-400">流体工学セミナー・教材集</div>PyGame-CEによるインタラクティブ表現入門その1：PyGame-CEのインストールと実行</div></div></a></div></article></main><script>((a,d)=>{if(!window.history.state||!window.history.state.key){let h=Math.random().toString(32).slice(2);window.history.replaceState({key:h},"")}try{let f=JSON.parse(sessionStorage.getItem(a)||"{}")[d||window.history.state.key];typeof f=="number"&&window.scrollTo(0,f)}catch(h){console.error(h),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="https://akonno.github.io/FluidSeminarMaterials//build/entry.client-UNPC4GT3.js"/><link rel="modulepreload" href="https://akonno.github.io/FluidSeminarMaterials//build/_shared/chunk-OCTKKCIL.js"/><link rel="modulepreload" href="https://akonno.github.io/FluidSeminarMaterials//build/_shared/chunk-UAI5KRM7.js"/><link rel="modulepreload" href="https://akonno.github.io/FluidSeminarMaterials//build/_shared/chunk-2NH4LW52.js"/><link rel="modulepreload" href="https://akonno.github.io/FluidSeminarMaterials//build/_shared/chunk-N2N6M3QH.js"/><link rel="modulepreload" href="https://akonno.github.io/FluidSeminarMaterials//build/_shared/chunk-HBJK6BW3.js"/><link rel="modulepreload" href="https://akonno.github.io/FluidSeminarMaterials//build/_shared/chunk-HYMQ7M2K.js"/><link rel="modulepreload" href="https://akonno.github.io/FluidSeminarMaterials//build/_shared/chunk-OHOXABTA.js"/><link rel="modulepreload" href="https://akonno.github.io/FluidSeminarMaterials//build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="https://akonno.github.io/FluidSeminarMaterials//build/_shared/chunk-CPTH56EW.js"/><link rel="modulepreload" href="https://akonno.github.io/FluidSeminarMaterials//build/_shared/chunk-3CVK3PYF.js"/><link rel="modulepreload" href="https://akonno.github.io/FluidSeminarMaterials//build/_shared/chunk-J6FHCSRC.js"/><link rel="modulepreload" href="https://akonno.github.io/FluidSeminarMaterials//build/_shared/chunk-S4SWV34C.js"/><link rel="modulepreload" href="https://akonno.github.io/FluidSeminarMaterials//build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="https://akonno.github.io/FluidSeminarMaterials//build/root-ZJZ4LRPY.js"/><link rel="modulepreload" href="https://akonno.github.io/FluidSeminarMaterials//build/_shared/chunk-KGDL62ZF.js"/><link rel="modulepreload" href="https://akonno.github.io/FluidSeminarMaterials//build/routes/$-23AHH5XS.js"/><script>window.__remixContext = {"url":"/pygame2","state":{"loaderData":{"root":{"config":{"version":2,"myst":"1.6.4","options":{"folders":true},"nav":[],"actions":[],"projects":[{"title":"流体工学セミナー・教材集","copyright":"2025 KONNO Akihisa","toc":[{"file":"intro.md"},{"file":"miniforge.md"},{"file":"jupyterlab.md"},{"file":"pygame1.md"},{"file":"pygame2.md"}],"exports":[],"bibliography":[],"index":"index","pages":[{"slug":"miniforge","title":"MiniforgeではじめるPythonプログラミング","description":"","date":"","thumbnail":"https://akonno.github.io/FluidSeminarMaterials//build/image1-7b7571f2dab4b2dafa3c8205644a03bc.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"jupyterlab","title":"JupyterLabの導入","description":"","date":"","thumbnail":"https://akonno.github.io/FluidSeminarMaterials//build/jupyterlab01en-b0d0a25ce08ec0f798dc5a92a3a35c81.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"pygame1","title":"PyGame-CEによるインタラクティブ表現入門その1：PyGame-CEのインストールと実行","description":"","date":"","thumbnail":"https://akonno.github.io/FluidSeminarMaterials//build/github-miniforge2.dr-a3eafef29457ae1a21bf2971c5d2c5a1.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"pygame2","title":"PyGame-CEによるインタラクティブ表現入門その2：PyGame-CEの基本とアニメーション","description":"","date":"","thumbnail":"https://akonno.github.io/FluidSeminarMaterials//build/screenshot1-dd16b0e451fc3f3aca7ffa78b0bd824c.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"https://akonno.github.io/FluidSeminarMaterials/"},"routes/$":{"config":{"version":2,"myst":"1.6.4","options":{"folders":true},"nav":[],"actions":[],"projects":[{"title":"流体工学セミナー・教材集","copyright":"2025 KONNO Akihisa","toc":[{"file":"intro.md"},{"file":"miniforge.md"},{"file":"jupyterlab.md"},{"file":"pygame1.md"},{"file":"pygame2.md"}],"exports":[],"bibliography":[],"index":"index","pages":[{"slug":"miniforge","title":"MiniforgeではじめるPythonプログラミング","description":"","date":"","thumbnail":"https://akonno.github.io/FluidSeminarMaterials//build/image1-7b7571f2dab4b2dafa3c8205644a03bc.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"jupyterlab","title":"JupyterLabの導入","description":"","date":"","thumbnail":"https://akonno.github.io/FluidSeminarMaterials//build/jupyterlab01en-b0d0a25ce08ec0f798dc5a92a3a35c81.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"pygame1","title":"PyGame-CEによるインタラクティブ表現入門その1：PyGame-CEのインストールと実行","description":"","date":"","thumbnail":"https://akonno.github.io/FluidSeminarMaterials//build/github-miniforge2.dr-a3eafef29457ae1a21bf2971c5d2c5a1.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"pygame2","title":"PyGame-CEによるインタラクティブ表現入門その2：PyGame-CEの基本とアニメーション","description":"","date":"","thumbnail":"https://akonno.github.io/FluidSeminarMaterials//build/screenshot1-dd16b0e451fc3f3aca7ffa78b0bd824c.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1}]}]},"page":{"version":2,"kind":"Article","sha256":"7ea265941ac41c83f34c40fe7a924278c0749d74bb52db8cdb6f103111f21370","slug":"pygame2","location":"/pygame2.md","dependencies":[],"frontmatter":{"title":"PyGame-CEによるインタラクティブ表現入門その2：PyGame-CEの基本とアニメーション","content_includes_title":false,"copyright":"2025 KONNO Akihisa","thumbnail":"https://akonno.github.io/FluidSeminarMaterials//build/screenshot1-dd16b0e451fc3f3aca7ffa78b0bd824c.png","exports":[{"format":"md","filename":"pygame2.md","url":"https://akonno.github.io/FluidSeminarMaterials//build/pygame2-bbd128c64da3a7973444cd49661221d5.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"lT0u7i2Z2P"}],"key":"DItBLe6k6T"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"この回のゴール:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"M8bftRpzCp"}],"key":"VnpLKwfDY2"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"pygame-ceでさまざまな図形を描ける","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"llCO6cXsgn"}],"key":"B1Q0Ykgujc"}],"key":"prNOyYTc6v"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"かんたんなアニメーションを描ける","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"T2VAXrjgFV"}],"key":"NDqKBHM7O8"}],"key":"n3VYBo60Ne"}],"key":"knwPNw1rec"}],"key":"jnNdxYLw80"},{"type":"heading","depth":2,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"PyGame-CEプログラムの構成を学ぶ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"jhy2vXPkee"}],"identifier":"pygame-ce","label":"PyGame-CEプログラムの構成を学ぶ","html_id":"pygame-ce","implicit":true,"key":"YOvW8a0nFL"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"前回の教材で以下のようなプログラムを作成した．このプログラムの内容を理解していこう．","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"tsoyrBzypF"}],"key":"SowS5Lxfch"},{"type":"code","lang":"python","value":"import pygame\n\n# 初期化\npygame.init()\n\n# 400ピクセル×400ピクセルのウィンドウをつくる\nWIDTH, HEIGHT = 400, 400\nscreen = pygame.display.set_mode((WIDTH, HEIGHT))\npygame.display.set_caption(\"PyGame-CE Program 1: basic drawing\")\n\nclock = pygame.time.Clock()\nrunning = True\n\n# メインループ\nwhile running:\n    # 1. イベント処理\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            running = False  # ウィンドウ右上の×で終了\n\n    # 2. 背景を塗る\n    screen.fill((220, 220, 220))  # R,G,B [0-255]\n\n    # 3. 図形を描く\n    # 青い円 (x=200, y=200, 半径30)\n    pygame.draw.circle(screen, (0, 0, 255), (200, 200), 30)\n\n    # 赤い四角形 (x=50, y=50, 幅80, 高さ80)\n    pygame.draw.rect(screen, (255, 0, 0), (50, 50, 80, 80))\n\n    # 4. 画面を更新\n    pygame.display.flip()\n\n    # 5. フレームレート制御 (1秒あたり60フレーム程度)\n    clock.tick(60)\n\n# 終了処理\npygame.quit()","position":{"start":{"line":13,"column":1},"end":{"line":52,"column":1}},"key":"dy7bKNH9ws"},{"type":"paragraph","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"text","value":"ポイント:","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"affjPAT7X5"}],"key":"ZUfjCoaPdw"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":55,"column":1},"end":{"line":63,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":55,"column":1},"end":{"line":56,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"while running:","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"key":"iUVmG7NV66"},{"type":"text","value":" の部分は、プログラムが動いている間くり返し処理を行う","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"key":"mGdflIrPbd"},{"type":"strong","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"children":[{"type":"text","value":"メインループ","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"key":"NzFG1S86s8"}],"key":"PmoJE148W3"},{"type":"text","value":"である。\nこの中でイベント（入力）を処理していることから、","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"key":"mWHpGhLBsR"},{"type":"strong","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"children":[{"type":"text","value":"イベントループ","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"key":"zU0UY2EKSc"}],"key":"gk7be5m7yw"},{"type":"text","value":"と呼ばれることもある。","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"key":"qFh4gCtXdI"}],"key":"etEYol3wwM"}],"key":"mas3kMucgT"},{"type":"listItem","spread":true,"position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"if event.type == pygame.QUIT:","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"x77TbYk3zY"},{"type":"text","value":" は「ウィンドウを閉じる操作が来たらメインループから抜ける」という分岐である．メインループが","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"CxChlrLzSx"},{"type":"inlineCode","value":"while running:","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"lWjWA70h7T"},{"type":"text","value":"で回っているので，","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"Qb0Ucl7a1I"},{"type":"inlineCode","value":"running = False","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"QY5LLu2JEB"},{"type":"text","value":"とすればメインループから抜けることになる．","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"niUThfjkSN"}],"key":"xn3axUWWcH"}],"key":"XwbxNjx2K9"},{"type":"listItem","spread":true,"position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"screen.fill((220, 220, 220))","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"fLhmVGx5DJ"},{"type":"text","value":" は画面全体を灰色に塗りつぶしている．つまり画面の背景色を設定している．","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"n6mZNaq2fM"}],"key":"o8SJfVL0oO"}],"key":"jr5xv3bxWq"},{"type":"listItem","spread":true,"position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"pygame.draw.circle(screen, (0, 0, 255), (200, 200), 30)","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"zvtJFbdjqS"},{"type":"text","value":" は円を描いている．","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"vYY9nGkLUw"},{"type":"inlineCode","value":"(0, 0, 255)","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"i0GGoke6MU"},{"type":"text","value":"の部分が色を，","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"UOwPeSSO3K"},{"type":"inlineCode","value":"(200, 200)","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"Mnf5lx49xX"},{"type":"text","value":"が中心の座標を，","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"WmFAeuszqa"},{"type":"inlineCode","value":"30","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"qgdlc369Cd"},{"type":"text","value":"が半径を表している．","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"xxgEHTFqmp"}],"key":"joiyDa4Xfi"}],"key":"VfAC5SD1gY"},{"type":"listItem","spread":true,"position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"pygame.draw.rect(screen, (255, 0, 0), (50, 50, 80, 80))","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"hiD5mVaSRO"},{"type":"text","value":" は四角形を描いている．","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"bmsrGyH00E"},{"type":"inlineCode","value":"(255, 0, 0)","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"ZDfHveKIQM"},{"type":"text","value":"の部分が色を，","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"Oun99YFE69"},{"type":"inlineCode","value":"(50, 50, 80, 80)","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"p4cOdUuRVP"},{"type":"text","value":"がそれぞれ四角形の左上隅のx座標，左上隅のy座標，四角形の幅，四角形の高さを表している．四角形の中心の位置ではなく左上隅の位置を指定する点に注意．","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"BsvuOS2d3A"}],"key":"CdiL5JgCWv"}],"key":"M7qJz7ypaf"},{"type":"listItem","spread":true,"position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"clock.tick(60)","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"YRasfHYuCo"},{"type":"text","value":"は画面の更新を1秒あたり最大60回に制限し、CPUを使い過ぎないようにする。これが無いとPCが全力で描画し続ける。（テレビ放送は1秒あたり30回画面を更新するので，毎秒60回の更新は十分に速い．）","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"Y03r5HycDw"}],"key":"eswjAJtrns"}],"key":"cVJPGnNPBy"},{"type":"listItem","spread":true,"position":{"start":{"line":62,"column":1},"end":{"line":63,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"メインループを抜けた後に実行される","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"MVuGtW2cdX"},{"type":"inlineCode","value":"pygame.quit()","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"Oy4lB1cqRo"},{"type":"text","value":"は，ウィンドウやサブシステムのリソース（メモリ等）を明示的に解放する。","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"Ie30z1ukMu"}],"key":"OZVFfmszAX"}],"key":"CBp8UnpXVZ"}],"key":"rLn28imIf3"},{"type":"paragraph","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"children":[{"type":"text","value":"メインループの中で円と四角形を描画しているので，つまりこのプログラムは「画面を灰色に塗りつぶしてから，円と四角形を描画する」という操作を何度も繰り返し行っている．しかし円と四角形を描画する位置が変わらないので，事実上，静止画を表示したのと同じことになっている．","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"key":"JkPYsJGjtz"}],"key":"RAul8Yr3oo"},{"type":"heading","depth":3,"position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"children":[{"type":"text","value":"座標系について","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"o9p91MSG8F"}],"identifier":"id","label":"座標系について","html_id":"id","implicit":true,"key":"xluylmzrPU"},{"type":"paragraph","position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"text","value":"プログラム内で，円を(200, 200)の位置に，四角形を(50, 50)の位置に描いている．従ってそれぞれの図形は直線","position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"key":"P2SQrh8gkk"},{"type":"inlineMath","value":"y=x","position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003ey\u003c/mi\u003e\u003cmo\u003e=\u003c/mo\u003e\u003cmi\u003ex\u003c/mi\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003ey=x\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.03588em;\"\u003ey\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e=\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.4306em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ex\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"LE9cPHl2Y3"},{"type":"text","value":"の上に乗っているはずである．しかし画面上では図形は左上から右下方向の対角線上に表示され，円は四角形の右上ではなく右","position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"key":"B5DEupW32o"},{"type":"strong","position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"text","value":"下","position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"key":"Si5iJzA8lC"}],"key":"qpj9Uqqcri"},{"type":"text","value":"に表示される．われわれの馴染んでいるxy座標系から考えると不自然である．これはなぜだろうか．","position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"key":"d3IAQfTU73"}],"key":"qEQfBMStbs"},{"type":"container","kind":"figure","children":[{"type":"image","url":"https://akonno.github.io/FluidSeminarMaterials//build/screenshot1-dd16b0e451fc3f3aca7ffa78b0bd824c.png","alt":"例に示したプログラムにより描画される図形","data":{"altTextIsAutoGenerated":true},"key":"B8nPIoF2rl","urlSource":"./images/media/screenshot1.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"text","value":"例に示したプログラムにより描画される図形","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"SVtcGXEuxH"}],"key":"UfXVRWb6iM"}],"key":"Q2qS2YtlDy"}],"enumerator":"1","key":"ODlJCxVRbp"},{"type":"paragraph","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"text","value":"コンピューターグラフィックスでは，以下のような座標系を用いることが多い．","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"key":"CiEMZEVTQH"}],"key":"d1JE1ilNQB"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":76,"column":1},"end":{"line":79,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"画面の左上が原点(0, 0)","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"DR9x73cfxb"}],"key":"nSuRf5cWFk"}],"key":"FSfJ60nuX5"},{"type":"listItem","spread":true,"position":{"start":{"line":77,"column":1},"end":{"line":77,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"x座標は右向きが正","position":{"start":{"line":77,"column":1},"end":{"line":77,"column":1}},"key":"mniHkjkBBA"}],"key":"bmeEejcjaW"}],"key":"hCzUNANgH8"},{"type":"listItem","spread":true,"position":{"start":{"line":78,"column":1},"end":{"line":79,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"y座標は","position":{"start":{"line":78,"column":1},"end":{"line":78,"column":1}},"key":"ieRd3qCFaL"},{"type":"strong","position":{"start":{"line":78,"column":1},"end":{"line":78,"column":1}},"children":[{"type":"text","value":"下","position":{"start":{"line":78,"column":1},"end":{"line":78,"column":1}},"key":"U7yXLs058x"}],"key":"vgvYDJ5OVC"},{"type":"text","value":"向きが正","position":{"start":{"line":78,"column":1},"end":{"line":78,"column":1}},"key":"KCKtRr4Dyp"}],"key":"yXwOk6Amkz"}],"key":"NRa8Y2Mv09"}],"key":"syPNaxMC2a"},{"type":"container","kind":"figure","children":[{"type":"image","url":"https://akonno.github.io/FluidSeminarMaterials//build/coordinate1.drawio-17a8d3760dd06098d6db2d2c597ddd7f.png","alt":"コンピューターグラフィックスで一般的な座標系","data":{"altTextIsAutoGenerated":true},"key":"aaUkjnRL0N","urlSource":"./images/coordinate1.drawio.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"children":[{"type":"text","value":"コンピューターグラフィックスで一般的な座標系","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"key":"ihEAH6s81P"}],"key":"zzlSiFju6B"}],"key":"Q1Xlk1xkbt"}],"enumerator":"2","key":"zr1WP5Pzl5"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"例","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"KMfkETAMAs"}],"key":"IU6nkcQGOz"},{"type":"paragraph","position":{"start":{"line":85,"column":1},"end":{"line":86,"column":1}},"children":[{"type":"text","value":"ウィンドウサイズが400ピクセル×400ピクセルなので，","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"key":"nsVTdNZ4Wu"},{"type":"inlineMath","value":"(x, y) = (200, 200)","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmi\u003ex\u003c/mi\u003e\u003cmo separator=\"true\"\u003e,\u003c/mo\u003e\u003cmi\u003ey\u003c/mi\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003cmo\u003e=\u003c/mo\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmn\u003e200\u003c/mn\u003e\u003cmo separator=\"true\"\u003e,\u003c/mo\u003e\u003cmn\u003e200\u003c/mn\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003e(x, y) = (200, 200)\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"\u003e\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ex\u003c/span\u003e\u003cspan class=\"mpunct\"\u003e,\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.03588em;\"\u003ey\u003c/span\u003e\u003cspan class=\"mclose\"\u003e)\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e=\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"\u003e\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord\"\u003e200\u003c/span\u003e\u003cspan class=\"mpunct\"\u003e,\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e200\u003c/span\u003e\u003cspan class=\"mclose\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"aHX3lHZzu2"},{"type":"text","value":"は画面の中央である。\n半径30の円をそこに置いたのが上のコードの ","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"key":"wzTay3RVt8"},{"type":"inlineCode","value":"pygame.draw.circle(...)","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"key":"CO5K3hWGKD"},{"type":"text","value":" である。","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"key":"dtzsesN1PL"}],"key":"FA9MSiYEV0"}],"key":"JrSlnJXICa"},{"type":"heading","depth":3,"position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"children":[{"type":"text","value":"色の表現について","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"hYTRznlb8F"}],"identifier":"id","label":"色の表現について","html_id":"id-1","implicit":true,"key":"IFjMAh8HZ7"},{"type":"paragraph","position":{"start":{"line":92,"column":1},"end":{"line":93,"column":1}},"children":[{"type":"text","value":"PyGameでは，色を","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"utA7fo2kIP"},{"type":"strong","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"text","value":"RGB","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"sHngaZkdZz"}],"key":"FAZJ5K3r7a"},{"type":"text","value":"（アール・ジー・ビー）と呼ばれる方式で表現している。\nRGBとは，光の三原色である","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"jRcmjHjgjT"},{"type":"strong","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"text","value":"赤","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"D2b1p1GqCZ"}],"key":"LNb68RZkdq"},{"type":"text","value":"（Red）・","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"QuyNApCO3F"},{"type":"strong","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"text","value":"緑","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"JIawtAUfmh"}],"key":"E7I9BpY0ze"},{"type":"text","value":"（Green）・","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"PY3D0oJBT8"},{"type":"strong","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"text","value":"青","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"gYhYw3XK0A"}],"key":"NU64CI0MlO"},{"type":"text","value":"（Blue） のそれぞれの明るさを数値で指定して色を作る方法である。PyGameの場合はそれぞれの明るさを0～255の256段階（8ビット）で指定する．","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"OkEP1AP2xS"}],"key":"KpDQo44Tcj"},{"type":"paragraph","position":{"start":{"line":95,"column":1},"end":{"line":97,"column":1}},"children":[{"type":"text","value":"たとえば","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"key":"TDDXlnW0zH"},{"type":"inlineCode","value":"screen.fill((220, 220, 220))","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"key":"hLSeCfHdFk"},{"type":"text","value":"は，赤・緑・青をすべて「220」という明るめの値にしている。\n0〜255の範囲で数値を指定でき，3つの値がすべて同じだと「白から黒までの灰色」になる。\nこの場合はやや明るい灰色で画面全体を塗りつぶしている。","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"key":"SrkhXvVHlM"}],"key":"pbS8JcjSEi"},{"type":"paragraph","position":{"start":{"line":99,"column":1},"end":{"line":100,"column":1}},"children":[{"type":"text","value":"一方，","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"AIjO7yKY1T"},{"type":"inlineCode","value":"pygame.draw.circle(screen, (0, 0, 255), (200, 200), 30)","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"SKw7ee8WbM"},{"type":"text","value":"の","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"gjPYcHgVYT"},{"type":"inlineCode","value":"(0, 0, 255)","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"P7NqXAV5tA"},{"type":"text","value":"は，赤と緑を0（まったく光らせない），青を255（最大の明るさ）にしている。\nそのため，この命令は鮮やかな青の円を描くことになる。","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"bW3sy4LS0a"}],"key":"PU7sntD3dc"},{"type":"paragraph","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"children":[{"type":"text","value":"このように，RGBの3つの値を変えることで，赤っぽい・緑っぽい・青っぽい色や，中間のさまざまな色を自由に作ることができる。","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"y0E9pC30mU"}],"key":"ABcQKE9XpV"},{"type":"paragraph","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"text","value":"参考：","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"EPZL6dGSD2"},{"type":"link","url":"https://www.rapidtables.com/web/color/RGB_Color.html","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"text","value":"RapidTables『RGB Color Codes』","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"DczJ19c3gK"}],"urlSource":"https://www.rapidtables.com/web/color/RGB_Color.html","key":"bvAnGorMl1"}],"key":"kaqttuJJs5"},{"type":"container","kind":"figure","children":[{"type":"image","url":"https://akonno.github.io/FluidSeminarMaterials//build/colorsample-3a271cc6432276cce129a111d2dceb10.png","alt":"さまざまな色で描画した四角形","data":{"altTextIsAutoGenerated":true},"key":"VonNGHDssb","urlSource":"./images/media/colorsample.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"さまざまな色で描画した四角形","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"ybGUqze16o"}],"key":"c6umjy8ttk"}],"key":"Yxxc1YniJI"}],"enumerator":"3","key":"rN8lPmJTQ2"},{"type":"heading","depth":2,"position":{"start":{"line":110,"column":1},"end":{"line":110,"column":1}},"children":[{"type":"text","value":"プログラムの改造：マウスのクリック状態取得とスクリーンショット保存機能","position":{"start":{"line":110,"column":1},"end":{"line":110,"column":1}},"key":"CxeqYcMllw"}],"identifier":"id","label":"プログラムの改造：マウスのクリック状態取得とスクリーンショット保存機能","html_id":"id-2","implicit":true,"key":"Qt6v3RW5sd"},{"type":"paragraph","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"children":[{"type":"text","value":"今後の演習において画面のスクリーンショットを撮る機能と，マウスの状態を得る機能を入れておくと便利なので，今のうちに入れておく．メインループの前に","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"key":"zsKXHv0AKM"},{"type":"inlineCode","value":"mouseClicked","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"key":"eVv6ovh4MA"},{"type":"text","value":"というブール変数を用意し，またSキーが押されたときにスクリーンショットを","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"key":"XLafhOVFVk"},{"type":"inlineCode","value":"screenshot.png","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"key":"FiOUTtHhlc"},{"type":"text","value":"というファイルに保存する機能を入れる．","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"key":"FbxXjGVk0A"}],"key":"pRqhUb9LXt"},{"type":"code","lang":"python","value":"# ...（途中省略）\nmouseClicked = False\n\nwhile running:\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            running = False\n        # マウスのクリック状態取得\n        elif event.type == pygame.MOUSEBUTTONUP:\n            mouseClicked = False\n        elif event.type == pygame.MOUSEBUTTONDOWN:\n            mouseClicked = True\n        # Sキーでスクリーンショット保存\n        elif event.type == pygame.KEYDOWN and event.key == pygame.K_s:\n            pygame.image.save(screen, \"screenshot.png\")\n            print(\"Screenshot saved.\")\n    \n    # ...（以下省略）","position":{"start":{"line":114,"column":1},"end":{"line":133,"column":1}},"key":"e8lmzqEvuQ"},{"type":"heading","depth":3,"position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"children":[{"type":"text","value":"演習","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"yeY08rMgPF"}],"identifier":"id","label":"演習","html_id":"id-3","implicit":true,"key":"CmFFjyAyNa"},{"type":"paragraph","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"children":[{"type":"text","value":"プログラムを実行してSキーを押し，スクリーンショットが保存されることを確かめよ．","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"key":"Zh3oWdT83c"}],"key":"Tee7K7PJap"},{"type":"heading","depth":2,"position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"children":[{"type":"text","value":"かんたんなアニメーション","position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"key":"MMzM8xxTES"}],"identifier":"id","label":"かんたんなアニメーション","html_id":"id-4","implicit":true,"key":"arlfH5PplS"},{"type":"paragraph","position":{"start":{"line":141,"column":1},"end":{"line":142,"column":1}},"children":[{"type":"text","value":"アニメーションとは、少しずつ変化した絵を高速で描き直すことで動いているように見せる仕組みである。\n先ほどのプログラムでは，この「描き直し」を1秒間に60回実行している。","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"key":"vrnC9ppTjM"}],"key":"d7KD9t0Wf4"},{"type":"paragraph","position":{"start":{"line":144,"column":1},"end":{"line":144,"column":1}},"children":[{"type":"text","value":"円を動かしてみよう．つまり，円を描画する位置をメインループの中で変えてみよう．","position":{"start":{"line":144,"column":1},"end":{"line":144,"column":1}},"key":"e0IW1aRofA"}],"key":"uCXTdjF3Ok"},{"type":"code","lang":"python","value":"x1 = 200\n# メインループ\nwhile running:\n    # ...（途中省略）\n\n    # 3. 図形を描く\n    # 青い円 (x=x1, y=200, 半径30)\n    pygame.draw.circle(screen, (0, 0, 255), (x1, 200), 30)\n\n    # x1を更新\n    x1 += 1\n    if x1 \u003e= WIDTH:\n        x1 = 0","position":{"start":{"line":146,"column":1},"end":{"line":160,"column":1}},"key":"MQnAkhxFHr"},{"type":"paragraph","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"children":[{"type":"text","value":"これで，青い円が左から右に動くはずである．","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"EqSUBHtNmN"}],"key":"lfPo8AVXb4"},{"type":"heading","depth":3,"position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"children":[{"type":"text","value":"演習","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"PlVSBsELt2"}],"identifier":"id","label":"演習","html_id":"id-5","implicit":true,"key":"xldeJzyaM2"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":166,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"赤い四角形も同じように動かしてみよ．","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"vUxtv0Zq4o"}],"key":"lq4UBtJU21"}],"key":"FiksblQdfg"},{"type":"listItem","spread":true,"position":{"start":{"line":167,"column":1},"end":{"line":167,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"今のプログラムだと円の中心が右端にかかると，急に左端に移動する．円が右端を抜けきってから，左端から滑らかに入ってくるように変更せよ．","position":{"start":{"line":167,"column":1},"end":{"line":167,"column":1}},"key":"vU8qcaSnre"}],"key":"XfQcgdI02y"}],"key":"TkBa5ptD4W"},{"type":"listItem","spread":true,"position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"それぞれの図形を斜めに動くようにしてみよ．異なる動き方をすることが望ましい．","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"key":"UBgWrVFD14"}],"key":"n3KDv2zLHV"}],"key":"D3JaaGAc9E"},{"type":"listItem","spread":true,"position":{"start":{"line":169,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"図形の色がだんだん変わるようにしてみよ．","position":{"start":{"line":169,"column":1},"end":{"line":169,"column":1}},"key":"wAoO2C4NZa"}],"key":"LS5P9kYojF"}],"key":"N75R4AhEO3"}],"key":"kPfQJr2e3H"},{"type":"heading","depth":2,"position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"children":[{"type":"text","value":"さまざまな図形の描画","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"key":"igqbZK0KA5"}],"identifier":"id","label":"さまざまな図形の描画","html_id":"id-6","implicit":true,"key":"w8xGMloQ7j"},{"type":"heading","depth":3,"position":{"start":{"line":173,"column":1},"end":{"line":173,"column":1}},"children":[{"type":"text","value":"外周と塗りつぶし","position":{"start":{"line":173,"column":1},"end":{"line":173,"column":1}},"key":"T1KnhaN8V3"}],"identifier":"id","label":"外周と塗りつぶし","html_id":"id-7","implicit":true,"key":"eDwCn9Lbby"},{"type":"paragraph","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"children":[{"type":"text","value":"PyGameで図形を描画するとき，内側を塗りつぶさずに外周だけを描きたいときは，外周の太さを指定する．たとえば次のように指定すると，左側には青く塗りつぶされた四角形が，右側には外周のみ青い線で描かれた四角形が表示される．メインループの中で図形を描画しているところを，以下のように変更してみよう．","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"key":"KJ3weFBDQG"}],"key":"qXl4TUuVYT"},{"type":"code","lang":"python","value":"    pygame.draw.rect(screen, (0, 0, 255), (50, 50, 80, 80))\n    pygame.draw.rect(screen, (0, 0, 255), (150, 50, 80, 80), 2)    # 線の太さ＝2","position":{"start":{"line":177,"column":1},"end":{"line":180,"column":1}},"key":"TxbRKLUdzb"},{"type":"paragraph","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"children":[{"type":"text","value":"このように線の太さを指定しなければ塗りつぶしに，太さを指定すれば外周のみになる．","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"QjtObzYgsF"}],"key":"eYsVP7IRkf"},{"type":"container","kind":"figure","children":[{"type":"image","url":"https://akonno.github.io/FluidSeminarMaterials//build/screenshot2-f54ecdadd628d074e9b6dde4b4c4a6e0.png","alt":"塗りつぶした四角形と外周のみの四角形","data":{"altTextIsAutoGenerated":true},"key":"KH0DelxuoG","urlSource":"./images/media/screenshot2.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"children":[{"type":"text","value":"塗りつぶした四角形と外周のみの四角形","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"rHucKoFqtW"}],"key":"k8WpWlEqI5"}],"key":"PrSspqANGY"}],"enumerator":"4","key":"etH2rkAlM9"},{"type":"paragraph","position":{"start":{"line":188,"column":1},"end":{"line":188,"column":1}},"children":[{"type":"text","value":"外周と塗りつぶしを別の色にしたい場合は，最初に塗りつぶしてから，同じ場所にもういちど外周を描けば良い．","position":{"start":{"line":188,"column":1},"end":{"line":188,"column":1}},"key":"IbRLSTKKd7"}],"key":"azeEj3cjcB"},{"type":"code","lang":"python","value":"    pygame.draw.rect(screen, (0, 255, 255), (50, 50, 80, 80))     # 水色で塗りつぶし\n    pygame.draw.rect(screen, (0, 0, 0), (50, 50, 80, 80), 2)    # 外周は黒い線で描く","position":{"start":{"line":190,"column":1},"end":{"line":193,"column":1}},"key":"yvvLmXrGIx"},{"type":"container","kind":"figure","children":[{"type":"image","url":"https://akonno.github.io/FluidSeminarMaterials//build/screenshot3-a9e960eea2db5a94d4167a5d198b55d2.png","alt":"塗りつぶしと外周とで異なる色を用いて描画した四角形","data":{"altTextIsAutoGenerated":true},"key":"JA3hh55bln","urlSource":"./images/media/screenshot3.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"children":[{"type":"text","value":"塗りつぶしと外周とで異なる色を用いて描画した四角形","position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"key":"zcBDSQELCP"}],"key":"MP0teLcDpB"}],"key":"zoMEoVDkId"}],"enumerator":"5","key":"YiBM2RsFwr"},{"type":"paragraph","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"children":[{"type":"text","value":"円や，このあと紹介する楕円なども同様に塗りつぶしと外周のみの描画を切り替えることができる．","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"xRyxZWa59F"}],"key":"FG7fz6Wxro"},{"type":"heading","depth":3,"position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"children":[{"type":"text","value":"演習","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"key":"j3pOYUnewu"}],"identifier":"id","label":"演習","html_id":"id-8","implicit":true,"key":"xrO62IooS2"},{"type":"paragraph","position":{"start":{"line":203,"column":1},"end":{"line":203,"column":1}},"children":[{"type":"text","value":"円にも外周を描いてみよ．","position":{"start":{"line":203,"column":1},"end":{"line":203,"column":1}},"key":"vgoNnlKnDr"}],"key":"iuql4vsnAG"},{"type":"heading","depth":3,"position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"children":[{"type":"text","value":"楕円","position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"key":"efP3PokHUs"}],"identifier":"id","label":"楕円","html_id":"id-9","implicit":true,"key":"ytB1ppnaYl"},{"type":"paragraph","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"children":[{"type":"text","value":"楕円の描画には","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"hsiDNHPoDL"},{"type":"inlineCode","value":"pygame.draw.ellipse(...)","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"cIwB3XyONY"},{"type":"text","value":"を用いる．楕円を囲む四角形の左上隅の座標と，横幅，高さを指定する．","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"UbQsuXSqbk"},{"type":"inlineCode","value":"rect","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"mw8rFsmaT5"},{"type":"text","value":"のときと同様である．","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"qJyiOfbAUp"}],"key":"TMJbj1d5aX"},{"type":"paragraph","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"children":[{"type":"text","value":"以下に示す例では，座標","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"key":"UvrY5yvY3C"},{"type":"inlineMath","value":"(200, 200)","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmn\u003e200\u003c/mn\u003e\u003cmo separator=\"true\"\u003e,\u003c/mo\u003e\u003cmn\u003e200\u003c/mn\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003e(200, 200)\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"\u003e\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord\"\u003e200\u003c/span\u003e\u003cspan class=\"mpunct\"\u003e,\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e200\u003c/span\u003e\u003cspan class=\"mclose\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"x6ZPOWf3c9"},{"type":"text","value":"の位置に半径100の円，横幅100，高さ50の矩形（外周のみ），横幅100，高さ50の楕円を描いている．","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"key":"MeNKRIEtEw"}],"key":"Ro00A9Kt3G"},{"type":"code","lang":"python","value":"    pygame.draw.circle(screen, (255, 0, 0), (200, 200), 100)\n    pygame.draw.rect(screen, (0, 0, 0), (200, 200, 100, 50), 2)\n    pygame.draw.ellipse(screen, (0, 0, 255), (200, 200, 100, 50))","position":{"start":{"line":211,"column":1},"end":{"line":215,"column":1}},"key":"pcgydjttyI"},{"type":"container","kind":"figure","children":[{"type":"image","url":"https://akonno.github.io/FluidSeminarMaterials//build/screenshot4-d40bbc48dd00a5a5017581818d3ef7a5.png","alt":"(200, 200)の位置に半径100の円，100×50の四角形（外周のみ），100×50の楕円を描画した例","data":{"altTextIsAutoGenerated":true},"key":"Huf9OknPsB","urlSource":"./images/media/screenshot4.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":218,"column":1},"end":{"line":218,"column":1}},"children":[{"type":"text","value":"(200, 200)の位置に半径100の円，100×50の四角形（外周のみ），100×50の楕円を描画した例","position":{"start":{"line":218,"column":1},"end":{"line":218,"column":1}},"key":"EaMnbMscuC"}],"key":"qJuTlDAOgG"}],"key":"FcfkqiSd4M"}],"enumerator":"6","key":"Op9JUKzzrQ"},{"type":"paragraph","position":{"start":{"line":221,"column":1},"end":{"line":221,"column":1}},"children":[{"type":"text","value":"円を描画する場合と，四角形や楕円を描画する場合とで書き方が異なることを理解してほしい．円は中心の位置（座標）と半径を，四角形や楕円は左上隅の座標と横幅，高さを指定する．","position":{"start":{"line":221,"column":1},"end":{"line":221,"column":1}},"key":"WL0iBhp0gi"}],"key":"gkZMs6ovpl"},{"type":"paragraph","position":{"start":{"line":223,"column":1},"end":{"line":223,"column":1}},"children":[{"type":"text","value":"また，あとから描かれた図形が上に描画されることも理解せよ．描画する順序を逆にすると，円が上から描かれるので四角形や楕円は端部しか見えなくなる．","position":{"start":{"line":223,"column":1},"end":{"line":223,"column":1}},"key":"Gy0cQ5kKMU"}],"key":"rRKsmHtsd1"},{"type":"container","kind":"figure","children":[{"type":"image","url":"https://akonno.github.io/FluidSeminarMaterials//build/screenshot5-83c569f4657605d11125eaf8d2ad1008.png","alt":"描画順序を楕円 --\u003e 四角形 --\u003e 円に変えた例．円が重なるため，四角形と楕円は端部しか表示されない．","data":{"altTextIsAutoGenerated":true},"key":"qg2tjxb1kP","urlSource":"./images/media/screenshot5.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":226,"column":1},"end":{"line":226,"column":1}},"children":[{"type":"text","value":"描画順序を楕円 --\u003e 四角形 --\u003e 円に変えた例．円が重なるため，四角形と楕円は端部しか表示されない．","position":{"start":{"line":226,"column":1},"end":{"line":226,"column":1}},"key":"mdYNB4krHX"}],"key":"EGKbKOO5eq"}],"key":"srZCEdeejP"}],"enumerator":"7","key":"GhTOdT3xfp"},{"type":"heading","depth":3,"position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"children":[{"type":"text","value":"発展：半透明の図形を描く","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"LwQvwlsLhm"}],"identifier":"id","label":"発展：半透明の図形を描く","html_id":"id-10","implicit":true,"key":"jYdJV7mxK1"},{"type":"paragraph","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"children":[{"type":"text","value":"先ほどの描画例を改造し，円を半透明にしてみよう．","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"gLkXuYWd7P"}],"key":"DL659usUaK"},{"type":"paragraph","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"children":[{"type":"text","value":"PyGameでは、画面全体を常時半透明対応にするのではなく、必要な部分だけを半透明に描画する仕組みになっている。これは、ゲームのように毎秒多数の描画を行うリアルタイム処理において、高速化を最優先とした設計である。画面全体で透明度を指定できるように（アルファチャンネル付きに）すると、すべてのピクセルで透明度の計算が必要となり、描画速度が大きく低下する。そのため、PyGameでは基本の表示面は不透明（RGB）とし、半透明を用いる場合は別の透明対応Surfaceを作成して重ねる方式を採用している。こうした設計により、PyGameは処理負荷を抑えつつ、必要な場面でのみ透明表現を実現できるようになっている。","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"NlRrKbXFZe"}],"key":"mXg1NR9rDb"},{"type":"paragraph","position":{"start":{"line":235,"column":1},"end":{"line":236,"column":1}},"children":[{"type":"text","value":"なおPillowのように静止画を生成するプログラムでは、ピクセルごとに色と透明度を指定できるアルファチャンネル付きの表示が一般的である。\nこれは、静止画の生成では計算速度よりも表現の正確さや画質が重視されるためであり、透明度の処理を行っても性能上の問題が生じにくいためである。","position":{"start":{"line":235,"column":1},"end":{"line":235,"column":1}},"key":"BXNkNT1m2E"}],"key":"PJ0QjjTCeO"},{"type":"code","lang":"python","value":"# メインループの外で、アルファチャンネルをサポートしたSurfaceを作る．\nsurface = pygame.Surface((WIDTH, HEIGHT), pygame.SRCALPHA)\n\nwhile running:\n    # ...（途中省略）...\n\n    pygame.draw.ellipse(screen, (0, 0, 255), (200, 200, 100, 50))\n    pygame.draw.rect(screen, (0, 0, 0), (200, 200, 100, 50), 2)\n    # surfaceを完全透明にクリア\n    surface.fill((0, 0, 0, 0))\n    # 円を半透明にしたいので，surfaceの上にアルファチャンネルを指定して描画\n    pygame.draw.circle(surface, (255, 0, 0, 128), (200, 200), 100)\n    # surfaceをscreenに重ねて描画\n    screen.blit(surface, (0, 0))\n","position":{"start":{"line":238,"column":1},"end":{"line":254,"column":1}},"key":"EBW6LfQG8R"},{"type":"container","kind":"figure","children":[{"type":"image","url":"https://akonno.github.io/FluidSeminarMaterials//build/screenshot6-383d61ab4e8cdd47568041d89aceea05.png","alt":"円を半透明にした例．描画順序は楕円 --\u003e 四角形 --\u003e 円だが，円が半透明なので四角形と楕円が透けて見える．","data":{"altTextIsAutoGenerated":true},"key":"YNR1BJbDhg","urlSource":"./images/media/screenshot6.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"children":[{"type":"text","value":"円を半透明にした例．描画順序は楕円 --\u003e 四角形 --\u003e 円だが，円が半透明なので四角形と楕円が透けて見える．","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"key":"Kt9RqpA0Yf"}],"key":"l285rhVpl1"}],"key":"IePU0VKRCH"}],"enumerator":"8","key":"nVyTI2IlGC"},{"type":"paragraph","position":{"start":{"line":260,"column":1},"end":{"line":260,"column":1}},"children":[{"type":"text","value":"これまでは色の指定に","position":{"start":{"line":260,"column":1},"end":{"line":260,"column":1}},"key":"EVklorJcnf"},{"type":"inlineCode","value":"(255, 0, 0)","position":{"start":{"line":260,"column":1},"end":{"line":260,"column":1}},"key":"q0WvpkQjiY"},{"type":"text","value":"とRGBで指定してきたが，今回は円を描くとき","position":{"start":{"line":260,"column":1},"end":{"line":260,"column":1}},"key":"E9NDWEuaPK"},{"type":"inlineCode","value":"(255, 0, 0, 128)","position":{"start":{"line":260,"column":1},"end":{"line":260,"column":1}},"key":"PlPYSggSTU"},{"type":"text","value":"と第4の数値を指定している．これが","position":{"start":{"line":260,"column":1},"end":{"line":260,"column":1}},"key":"G1DNDGpS2n"},{"type":"strong","position":{"start":{"line":260,"column":1},"end":{"line":260,"column":1}},"children":[{"type":"text","value":"アルファチャンネル","position":{"start":{"line":260,"column":1},"end":{"line":260,"column":1}},"key":"ALiPSDltWH"}],"key":"d97Wmp1gck"},{"type":"text","value":"で，透明度を表す．0だと完全に透明，255だと不透明である．透明度を変えながら図形を描いてみよう．","position":{"start":{"line":260,"column":1},"end":{"line":260,"column":1}},"key":"a56OwoLvGv"}],"key":"m8lq3fiIJq"},{"type":"code","lang":"python","value":"    # はじめに細長い四角形を描画しておく．透明度を確認するため．\n    pygame.draw.rect(screen, (0, 0, 255), (0, 195, 400, 10))\n    # 円を透明度を変えつつ複数描画\n    pygame.draw.circle(surface, (255, 0, 0, 0), (100, 200), 20)\n    pygame.draw.circle(surface, (255, 0, 0, 64), (150, 200), 20)\n    pygame.draw.circle(surface, (255, 0, 0, 128), (200, 200), 20)\n    pygame.draw.circle(surface, (255, 0, 0, 192), (250, 200), 20)\n    pygame.draw.circle(surface, (255, 0, 0, 255), (300, 200), 20)\n    # 最初の円が見えなくなる（はずな）ので，外周を黒で描画しておく\n    pygame.draw.circle(surface, (0, 0, 0, 255), (100, 200), 20, 1)\n    screen.blit(surface, (0, 0))","position":{"start":{"line":262,"column":1},"end":{"line":274,"column":1}},"key":"vMb7aU0qq3"},{"type":"container","kind":"figure","children":[{"type":"image","url":"https://akonno.github.io/FluidSeminarMaterials//build/screenshot7-bf32d93dbc442ce26694042f4dddf314.png","alt":"円を透明度を変えながら表示している例．左から0，64，128，192，255と設定している．透明度0の円は表示されないので，そこだけ外枠を描画している．","data":{"altTextIsAutoGenerated":true},"key":"zyAzaTZ870","urlSource":"./images/media/screenshot7.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":277,"column":1},"end":{"line":277,"column":1}},"children":[{"type":"text","value":"円を透明度を変えながら表示している例．左から0，64，128，192，255と設定している．透明度0の円は表示されないので，そこだけ外枠を描画している．","position":{"start":{"line":277,"column":1},"end":{"line":277,"column":1}},"key":"fiqzjbVVsy"}],"key":"zpgKfk1XEk"}],"key":"dCoa10mihZ"}],"enumerator":"9","key":"Ul4J4VyJMI"},{"type":"heading","depth":3,"position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"children":[{"type":"text","value":"多角形","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"Igwpgy4kMh"}],"identifier":"id","label":"多角形","html_id":"id-11","implicit":true,"key":"bu6WbQxEGq"},{"type":"paragraph","position":{"start":{"line":282,"column":1},"end":{"line":282,"column":1}},"children":[{"type":"text","value":"三角形や五角形，星形など多角形（凹多角形を含む）を描画するには，","position":{"start":{"line":282,"column":1},"end":{"line":282,"column":1}},"key":"urLu0LYlUP"},{"type":"inlineCode","value":"pygame.draw.polygon(...)","position":{"start":{"line":282,"column":1},"end":{"line":282,"column":1}},"key":"JXKNCwq3Ps"},{"type":"text","value":"を用いる．点の座標をリストで与える．","position":{"start":{"line":282,"column":1},"end":{"line":282,"column":1}},"key":"JM0qPVdLbF"}],"key":"vGfsPFC3rE"},{"type":"code","lang":"python","value":"    pygame.draw.polygon(screen, (255, 0, 0), [(100, 50), (50, 150), (150, 150)])\n    pygame.draw.polygon(screen, (0, 0, 255), [(250, 150), (200, 250), (300, 250), (325, 200)])","position":{"start":{"line":284,"column":1},"end":{"line":287,"column":1}},"key":"pL9OYnc3HQ"},{"type":"container","kind":"figure","children":[{"type":"image","url":"https://akonno.github.io/FluidSeminarMaterials//build/screenshot8-ead8c2ef2a416404cda6acde614fb781.png","alt":"多角形を描画している例．この例では三角形と不等辺の四角形を描画している．","data":{"altTextIsAutoGenerated":true},"key":"dk8WglMtXU","urlSource":"./images/media/screenshot8.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"children":[{"type":"text","value":"多角形を描画している例．この例では三角形と不等辺の四角形を描画している．","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"bnVd30kVuN"}],"key":"PqsyU7dsR3"}],"key":"qoQa9N0k9x"}],"enumerator":"10","key":"hLM18CdusS"},{"type":"paragraph","position":{"start":{"line":293,"column":1},"end":{"line":293,"column":1}},"children":[{"type":"text","value":"星形を描いてみよう．はじめは頂点の5点を座標で指定し，外形を描いてみる．","position":{"start":{"line":293,"column":1},"end":{"line":293,"column":1}},"key":"bxgX19KmiJ"}],"key":"zo3BDX7DSF"},{"type":"code","lang":"python","value":"    pygame.draw.polygon(screen, (0, 0, 0), [(200, 50), (260, 300),\n        (100, 150), (300, 150), (140, 300)], 1) ","position":{"start":{"line":295,"column":1},"end":{"line":298,"column":1}},"key":"lgt4sVdXic"},{"type":"container","kind":"figure","children":[{"type":"image","url":"https://akonno.github.io/FluidSeminarMaterials//build/screenshot9-c571d688d74c1e69ea524764feaefbb0.png","alt":"星形を描画（外形線のみ）","data":{"altTextIsAutoGenerated":true},"key":"NGOUuoAGJl","urlSource":"./images/media/screenshot9.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"children":[{"type":"text","value":"星形を描画（外形線のみ）","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"x5MdMOljbe"}],"key":"B10sYeshw5"}],"key":"Bm1LWeKx6J"}],"enumerator":"11","key":"BlUVyMWxkB"},{"type":"paragraph","position":{"start":{"line":304,"column":1},"end":{"line":304,"column":1}},"children":[{"type":"text","value":"黒線で星形が描かれるはずである．今度はこれを塗りつぶしてみよう．","position":{"start":{"line":304,"column":1},"end":{"line":304,"column":1}},"key":"zYVHqAsIrO"}],"key":"ot6NLRN93E"},{"type":"code","lang":"python","value":"    pygame.draw.polygon(screen, (255, 255, 0), [(200, 50), (260, 300),\n        (100, 150), (300, 150), (140, 300)]) \n    pygame.draw.polygon(screen, (0, 0, 0), [(200, 50), (260, 300), (100, 150),\n        (300, 150), (140, 300)], 1) ","position":{"start":{"line":306,"column":1},"end":{"line":311,"column":1}},"key":"EMIAPKNX8u"},{"type":"container","kind":"figure","children":[{"type":"image","url":"https://akonno.github.io/FluidSeminarMaterials//build/screenshot10-a8a1f0bea4412c2acd0cbf69ed0513a8.png","alt":"星形を描画（塗りつぶしあり）","data":{"altTextIsAutoGenerated":true},"key":"jGl15R9qfd","urlSource":"./images/media/screenshot10.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":314,"column":1},"end":{"line":314,"column":1}},"children":[{"type":"text","value":"星形を描画（塗りつぶしあり）","position":{"start":{"line":314,"column":1},"end":{"line":314,"column":1}},"key":"PHcBxq11Li"}],"key":"PhFO073FJP"}],"key":"wPeDySMPgU"}],"enumerator":"12","key":"TzuzF9gk1B"},{"type":"paragraph","position":{"start":{"line":317,"column":1},"end":{"line":317,"column":1}},"children":[{"type":"text","value":"中央部分が塗りつぶされていない．実際に動かして確認してみよ．","position":{"start":{"line":317,"column":1},"end":{"line":317,"column":1}},"key":"wC4Rn3Dbyh"}],"key":"awLFClRO9E"},{"type":"paragraph","position":{"start":{"line":319,"column":1},"end":{"line":319,"column":1}},"children":[{"type":"text","value":"これはコンピューターグラフィックスの塗りつぶし動作で一般的な","position":{"start":{"line":319,"column":1},"end":{"line":319,"column":1}},"key":"QGT80wfvDN"},{"type":"strong","position":{"start":{"line":319,"column":1},"end":{"line":319,"column":1}},"children":[{"type":"text","value":"奇偶ルール","position":{"start":{"line":319,"column":1},"end":{"line":319,"column":1}},"key":"EWMffbEr76"}],"key":"OZbffutJ4Y"},{"type":"text","value":"（even-odd rule）に基づいて塗りつぶされているからである．奇偶ルールは、多角形の内部を決定するための方法の一つであり、コンピューターグラフィックスの分野で広く用いられている。","position":{"start":{"line":319,"column":1},"end":{"line":319,"column":1}},"key":"MmyOP5MgmV"}],"key":"VHG1sZ69rz"},{"type":"paragraph","position":{"start":{"line":321,"column":1},"end":{"line":322,"column":1}},"children":[{"type":"text","value":"この規則では、ある点から無限遠に線を引いたときに図形の辺と交わる回数が奇数であればその点は内部、偶数であれば外部と判断される。\nSVG、PDF、PostScriptなど多くの描画システムでも採用されており、PyGameの多角形描画もこの方式に基づいている。","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"key":"jBICQYmMGC"}],"key":"pox4KZ0vhg"},{"type":"paragraph","position":{"start":{"line":324,"column":1},"end":{"line":324,"column":1}},"children":[{"type":"text","value":"星形に関して言うと，内側の点から外に向かって線を引くと，星形の中央の五角形部分では外形線と必ず2回交差する．（五角形の頂点を通れば1回に見えるかもしれないが，そこは2本の外形線が重なっている．）従って中央の五角形部分が内側だと見做されないのである．","position":{"start":{"line":324,"column":1},"end":{"line":324,"column":1}},"key":"qFCdaGHwO7"}],"key":"itLlp77afe"},{"type":"paragraph","position":{"start":{"line":326,"column":1},"end":{"line":326,"column":1}},"children":[{"type":"text","value":"内側も含めて塗りつぶしたいときは，五角形の頂点（星形から見ると凹になっている頂点）も含めて10点の頂点を指定するのが確実である．","position":{"start":{"line":326,"column":1},"end":{"line":326,"column":1}},"key":"dMXV0Z11YK"}],"key":"alHL1dzwws"},{"type":"code","lang":"python","value":"    pygame.draw.polygon(screen, (255, 255, 0), [(200, 50), (220, 150),\n        (300, 150), (240, 200), (260, 300), (200, 240),\n        (140, 300), (160, 200), (100, 150), (180, 150)])\n    pygame.draw.polygon(screen, (0, 0, 0), [(200, 50), (220, 150),\n        (300, 150), (240, 200), (260, 300), (200, 240),\n        (140, 300), (160, 200), (100, 150), (180, 150)], 1)","position":{"start":{"line":328,"column":1},"end":{"line":335,"column":1}},"key":"SZq2RwyddK"},{"type":"container","kind":"figure","children":[{"type":"image","url":"https://akonno.github.io/FluidSeminarMaterials//build/screenshot11-f59f2237bfd9518437583a6abcc4941a.png","alt":"星形を描画（凹の頂点を含め10点を指定）","data":{"altTextIsAutoGenerated":true},"key":"TBOH8lKhhN","urlSource":"./images/media/screenshot11.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":338,"column":1},"end":{"line":338,"column":1}},"children":[{"type":"text","value":"星形を描画（凹の頂点を含め10点を指定）","position":{"start":{"line":338,"column":1},"end":{"line":338,"column":1}},"key":"zoeLXETr4W"}],"key":"ZLEG7YCj0c"}],"key":"urfrk0qSQ6"}],"enumerator":"13","key":"wG6HeWcCFI"},{"type":"heading","depth":3,"position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"children":[{"type":"text","value":"線分と折れ線","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"key":"vHx2FUjxi4"}],"identifier":"id","label":"線分と折れ線","html_id":"id-12","implicit":true,"key":"NG1osSsAJx"},{"type":"paragraph","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"children":[{"type":"text","value":"線分と折れ線を描いてみよう．それぞれ","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"MS0vkCZHDH"},{"type":"inlineCode","value":"pygame.draw,line(...)","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"WUHL5g6PGO"},{"type":"text","value":"と","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"e0DSsqb6xJ"},{"type":"inlineCode","value":"pygame.draw.lines(...)","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"VyWeNeLA6W"},{"type":"text","value":"を用いる．線分では始点と終点の2点を並べて，折れ線では接続する点の座標をリストとして指定する．","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"bg9mYygAjI"}],"key":"TwLs8Pla0n"},{"type":"code","lang":"python","value":"        pygame.draw.line(screen, (255, 0, 0), (50, 50), (350, 350), 3)  # 線分\n        pygame.draw.lines(screen, (0, 0, 255), False, [(50, 350), (150, 250),\n            (250, 350), (350, 250)], 2)  # 折れ線","position":{"start":{"line":345,"column":1},"end":{"line":349,"column":1}},"key":"FLDOUn44Gj"},{"type":"container","kind":"figure","children":[{"type":"image","url":"https://akonno.github.io/FluidSeminarMaterials//build/screenshot12-ec38e3945250c4e6ff74e4736b09a746.png","alt":"線分と折れ線を描画","data":{"altTextIsAutoGenerated":true},"key":"XcoCrJ3Vr6","urlSource":"./images/media/screenshot12.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":352,"column":1},"end":{"line":352,"column":1}},"children":[{"type":"text","value":"線分と折れ線を描画","position":{"start":{"line":352,"column":1},"end":{"line":352,"column":1}},"key":"Zx7227HfnG"}],"key":"iYvdRxqgwm"}],"key":"MvVad4sAjP"}],"enumerator":"14","key":"ypeBAiP5Vy"},{"type":"paragraph","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"inlineCode","value":"pygame.draw.lines","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"gaokHhGQws"},{"type":"text","value":"の3番目の引数に","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"Kgf3AQankc"},{"type":"inlineCode","value":"False","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"GPAlYNC5bb"},{"type":"text","value":"と書いてあるが，これは折れ線を閉じるか否か，つまり，折れ線の先端の点と末尾の点とを線で結ぶかを指定する．線で結んだ場合は，","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"pssgkZploW"},{"type":"inlineCode","value":"pygame.draw.polygon","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"t8fBc1yp63"},{"type":"text","value":"で外形線を描いたときと同じように動作する．ただし","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"Vb9KHqFocF"},{"type":"inlineCode","value":"pygame.draw.lines","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"FqFdQCSrnr"},{"type":"text","value":"には内側を塗りつぶす機能は無い．これも試してみよう．","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"tHhqjDlanj"}],"key":"tarH2ysxC6"},{"type":"code","lang":"python","value":"        pygame.draw.lines(screen, (0, 0, 255), True, [(50, 150), (150, 50),\n            (250, 150), (350, 50)], 2)  # lines\n        pygame.draw.polygon(screen, (0, 0, 255), [(50, 250), (150, 150),\n            (250, 250), (350, 150)], 2)  # polygon, 外形線のみ\n        pygame.draw.polygon(screen, (0, 0, 255), [(50, 350), (150, 250),\n            (250, 350), (350, 250)])  # polygon 塗りつぶし","position":{"start":{"line":357,"column":1},"end":{"line":364,"column":1}},"key":"HyQeRu6vTl"},{"type":"container","kind":"figure","children":[{"type":"image","url":"https://akonno.github.io/FluidSeminarMaterials//build/screenshot13-d7d5932aef8b347325bfec94e341754a.png","alt":"上からlines, polygon（外形線のみ），polygon（塗りつぶし）で描画した図形","data":{"altTextIsAutoGenerated":true},"key":"T3ARy2IFq5","urlSource":"./images/media/screenshot13.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":367,"column":1},"end":{"line":367,"column":1}},"children":[{"type":"text","value":"上からlines, polygon（外形線のみ），polygon（塗りつぶし）で描画した図形","position":{"start":{"line":367,"column":1},"end":{"line":367,"column":1}},"key":"wynwdjgQIN"}],"key":"Agv86YDbrr"}],"key":"BwIhl1zVjC"}],"enumerator":"15","key":"MlFUwqUWz1"},{"type":"heading","depth":3,"position":{"start":{"line":370,"column":1},"end":{"line":370,"column":1}},"children":[{"type":"text","value":"描画を繰り返す","position":{"start":{"line":370,"column":1},"end":{"line":370,"column":1}},"key":"Pj5L6Rwyt1"}],"identifier":"id","label":"描画を繰り返す","html_id":"id-13","implicit":true,"key":"c9fExHWsdf"},{"type":"paragraph","position":{"start":{"line":372,"column":1},"end":{"line":372,"column":1}},"children":[{"type":"text","value":"Pythonのプログラムなので，描画も当然ループを使って繰り返したり，条件分岐で色を変えたりすることができる．","position":{"start":{"line":372,"column":1},"end":{"line":372,"column":1}},"key":"K1ugby6LHV"}],"key":"PoN1FXLRYJ"},{"type":"code","lang":"python","value":"    for i in range(10):\n        pygame.draw.rect(screen, (0, 255 - i * 20, i * 20), (20 + i * 30, 20 + i * 30, 80, 80))","position":{"start":{"line":374,"column":1},"end":{"line":377,"column":1}},"key":"oJdOLEBkRY"},{"type":"container","kind":"figure","children":[{"type":"image","url":"https://akonno.github.io/FluidSeminarMaterials//build/screenshot14-c78c5e990964401c4b69d464ee82faec.png","alt":"位置と色を変えながら連続して描いた四角形の例","data":{"altTextIsAutoGenerated":true},"key":"rztjfX19Kk","urlSource":"./images/media/screenshot14.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":380,"column":1},"end":{"line":380,"column":1}},"children":[{"type":"text","value":"位置と色を変えながら連続して描いた四角形の例","position":{"start":{"line":380,"column":1},"end":{"line":380,"column":1}},"key":"ny1Uxkp5ys"}],"key":"cAER9FKRMf"}],"key":"az1tAOGgF4"}],"enumerator":"16","key":"fp8jBNhhuO"},{"type":"code","lang":"python","value":"    pygame.draw.rect(screen, (0, 0, 240), (40, 10, 100, 380))\n    # 長い斜め四角形\n    slide = 18\n    for i in range(3):\n        pygame.draw.polygon(screen, (255, 200, 0),\n                            [(40 + i * slide, 260 + i * slide), (140 + i * slide, 160 + i * slide),\n                                (150 + i * slide, 170 + i * slide), (50 + i * slide, 270 + i * slide)])\n    # 短い斜め四角形\n    for i in range(3):\n        pygame.draw.polygon(screen, (255, 200, 0),\n                            [(40 + (i+3) * slide, 260 + (i+3) * slide), (90 + (i+3) * slide, 210 + (i+3) * slide),\n                                (100 + (i+3) * slide, 220 + (i+3) * slide), (50 + (i+3) * slide, 270 + (i+3) * slide)])","position":{"start":{"line":383,"column":1},"end":{"line":396,"column":1}},"key":"jHhcXj2f5a"},{"type":"container","kind":"figure","children":[{"type":"image","url":"https://akonno.github.io/FluidSeminarMaterials//build/screenshot15-f716aca4431f2143b9afd8d29327e065.png","alt":"位置を変えながら連続して描いた多角形の例","data":{"altTextIsAutoGenerated":true},"key":"D31fnf8w9c","urlSource":"./images/media/screenshot15.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":399,"column":1},"end":{"line":399,"column":1}},"children":[{"type":"text","value":"位置を変えながら連続して描いた多角形の例","position":{"start":{"line":399,"column":1},"end":{"line":399,"column":1}},"key":"DWEG4LKfD6"}],"key":"lIAnrAT9NV"}],"key":"afZkGZfIoX"}],"enumerator":"17","key":"blNj5YG1Bj"},{"type":"heading","depth":3,"position":{"start":{"line":402,"column":1},"end":{"line":402,"column":1}},"children":[{"type":"text","value":"ランダムに図形を描く―randomの利用","position":{"start":{"line":402,"column":1},"end":{"line":402,"column":1}},"key":"n1L49vqsdz"}],"identifier":"id-random","label":"ランダムに図形を描く―randomの利用","html_id":"id-random","implicit":true,"key":"rBSxjBCZGO"},{"type":"paragraph","position":{"start":{"line":404,"column":1},"end":{"line":404,"column":1}},"children":[{"type":"text","value":"ゲームやインタラクティブアートのプログラミングでは，常に同じ場所に図形を描画するのではなく，ランダムに位置や色を変えたほうが良い場合がある．ここでは乱数を用いてランダムな位置に図形を描いてみよう．","position":{"start":{"line":404,"column":1},"end":{"line":404,"column":1}},"key":"adpXbcROnF"}],"key":"fGkiUZPPMo"},{"type":"paragraph","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"children":[{"type":"inlineCode","value":"random","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"aFrpSJtWM2"},{"type":"text","value":"モジュールをインポートすると，整数の一様乱数","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"O0MHorLdqE"},{"type":"inlineCode","value":"random.randint","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"nbRht0WN4e"},{"type":"text","value":"を使えるようになるので，これを用いる．","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"LC3kWnWq24"}],"key":"vA3RtfCylt"},{"type":"code","lang":"python","value":"import random\n\nwhile running:\n    # ...（途中省略）\n    for i in range(50):\n        x = random.randint(0, WIDTH)\n        y = random.randint(0, HEIGHT)\n        radius = random.randint(10, 50)\n        color = (random.randint(0, 255), random.randint(0, 255), random.randint(0, 255))\n        pygame.draw.circle(screen, color, (x, y), radius)\n    # ...（以下省略）","position":{"start":{"line":408,"column":1},"end":{"line":420,"column":1}},"key":"EK9Z9giaat"},{"type":"paragraph","position":{"start":{"line":422,"column":1},"end":{"line":422,"column":1}},"children":[{"type":"inlineCode","value":"random.randint(0, 255)","position":{"start":{"line":422,"column":1},"end":{"line":422,"column":1}},"key":"zIIhzwSW6y"},{"type":"text","value":"は0～255の範囲の整数乱数を生成する．","position":{"start":{"line":422,"column":1},"end":{"line":422,"column":1}},"key":"KXVbTROjgy"}],"key":"acUt4cyLEg"},{"type":"paragraph","position":{"start":{"line":424,"column":1},"end":{"line":424,"column":1}},"children":[{"type":"text","value":"このプログラムを実行すると，フレームごとに円をランダムに描画するので，多数の円が高速に表示されたり消えたりするように見えるはずである．","position":{"start":{"line":424,"column":1},"end":{"line":424,"column":1}},"key":"V0xvmIWwBQ"}],"key":"XLlmxQAkkW"},{"type":"container","kind":"figure","children":[{"type":"image","url":"https://akonno.github.io/FluidSeminarMaterials//build/screenshot16-fc8e910d18fe05841a32469e201b1dc0.png","alt":"ランダムに表示された円の例．色も位置もランダムに決められている．この画面は静止画だが，実際にはこのような画面が高速に切り替わりながら表示される．","data":{"altTextIsAutoGenerated":true},"key":"ynvWzR6mfu","urlSource":"./images/media/screenshot16.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":427,"column":1},"end":{"line":427,"column":1}},"children":[{"type":"text","value":"ランダムに表示された円の例．色も位置もランダムに決められている．この画面は静止画だが，実際にはこのような画面が高速に切り替わりながら表示される．","position":{"start":{"line":427,"column":1},"end":{"line":427,"column":1}},"key":"eNlrlbnMJM"}],"key":"FTzSNSAJWH"}],"key":"k6mjD8Wd2F"}],"enumerator":"18","key":"M2nKH7CF95"},{"type":"heading","depth":3,"position":{"start":{"line":430,"column":1},"end":{"line":430,"column":1}},"children":[{"type":"text","value":"演習","position":{"start":{"line":430,"column":1},"end":{"line":430,"column":1}},"key":"qno7DKpHM6"}],"identifier":"id","label":"演習","html_id":"id-14","implicit":true,"key":"yyPJOhZHse"},{"type":"paragraph","position":{"start":{"line":432,"column":1},"end":{"line":432,"column":1}},"children":[{"type":"text","value":"円がランダムに配置されるが，それが切り替わらずに静止画として表示されるようにせよ．たとえばメインループ外で一度だけ乱数で座標を作り，それをリストに保存しておいてメインループ内でそれを使って描くなどの方法が考えられる．","position":{"start":{"line":432,"column":1},"end":{"line":432,"column":1}},"key":"VUhyUwxRO7"}],"key":"M4DVmnGq8a"},{"type":"heading","depth":2,"position":{"start":{"line":434,"column":1},"end":{"line":434,"column":1}},"children":[{"type":"text","value":"マウスカーソルの位置に円を描く","position":{"start":{"line":434,"column":1},"end":{"line":434,"column":1}},"key":"OEHu98v6Ke"}],"identifier":"id","label":"マウスカーソルの位置に円を描く","html_id":"id-15","implicit":true,"key":"KiBkBxbNyQ"},{"type":"paragraph","position":{"start":{"line":436,"column":1},"end":{"line":437,"column":1}},"children":[{"type":"text","value":"「インタラクティブだ」と感じてもらうために，マウスの動きに追随する円を描画してみよう．\nマウスカーソルの位置は","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"kQOjTYbezX"},{"type":"inlineCode","value":"mx, my = pygame.mouse.get_pos()","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"nYSUoU1DRX"},{"type":"text","value":"で得られるので，その位置に円を描くと良い．","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"pmMinecM48"}],"key":"c3EC496YGl"},{"type":"code","lang":"python","value":"    # マウス位置を取得\n    mx, my = pygame.mouse.get_pos()\n\n    # マウスのところに青い円\n    pygame.draw.circle(screen, (0, 0, 255), (mx, my), 20)","position":{"start":{"line":439,"column":1},"end":{"line":445,"column":1}},"key":"Fwrc448F0g"},{"type":"paragraph","position":{"start":{"line":447,"column":1},"end":{"line":448,"column":1}},"children":[{"type":"text","value":"このプログラムを実行すると，マウスポインタを追いかける青い円が表示されるはずである．\nこれにより「リアルタイム入力 → 描画」というゲームやインタラクティブアートの基本となる機能が使えるようになった．","position":{"start":{"line":447,"column":1},"end":{"line":447,"column":1}},"key":"BtVi46CgTO"}],"key":"ioVTigp3X3"},{"type":"heading","depth":3,"position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"children":[{"type":"text","value":"演習","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"yAozsh2Xqv"}],"identifier":"id","label":"演習","html_id":"id-16","implicit":true,"key":"wHDOnqmiN5"},{"type":"paragraph","position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"children":[{"type":"text","value":"マウスのボタンを押しているときは赤い円が，押していないときは青い円が描かれるようにせよ．","position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"key":"nNOSn4p0qM"}],"key":"oCoWur6B9d"},{"type":"heading","depth":2,"position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"children":[{"type":"text","value":"課題（LMS提出）","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"Y9h2JUnf5Z"}],"identifier":"id-lms","label":"課題（LMS提出）","html_id":"id-lms","implicit":true,"key":"UT3LuISX0F"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"課題","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"TaHSrV8G1v"}],"key":"ZofBiLf9bN"},{"type":"paragraph","position":{"start":{"line":457,"column":1},"end":{"line":458,"column":1}},"children":[{"type":"text","value":"以下の課題に取り組み，その結果をレポートにまとめ，KU-LMSから提出せよ．\n提出方法および提出期限はKU-LMSで確認せよ．","position":{"start":{"line":457,"column":1},"end":{"line":457,"column":1}},"key":"bhmW1wPnw4"}],"key":"DlvHJDsImL"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":460,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":460,"column":1},"end":{"line":460,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"今回の演習で実行した結果の画面をどれかひとつ，レポートに添付せよ．できるだけ後半の課題にするのが望ましい．","position":{"start":{"line":460,"column":1},"end":{"line":460,"column":1}},"key":"x41JPQEixN"}],"key":"zyneldPyoL"}],"key":"CJlWVWpFjH"},{"type":"listItem","spread":true,"position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"これまで学んできた知識を用いて，独自のプログラムを作成し，適当な図形を作れ．そのプログラムおよび図形をレポートに添付せよ．凝った図形が望ましい．単純でつまらない図形は対象外とする．なお参考書，ウェブサイトなどでPyGameの機能を調べ，この資料には書かれていない機能を使った図形を作成してもよい．その場合は使用した機能を説明せよ．（アンパンマンの顔を提出する履修者が多いので，アンパンマンは禁止とします．）","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"MGSU0S5tTY"}],"key":"KToAaU5qfG"}],"key":"e4BX8yd4sn"}],"key":"KchD4wlxi3"}],"key":"HcMO0qQOPm"},{"type":"heading","depth":2,"position":{"start":{"line":464,"column":1},"end":{"line":464,"column":1}},"children":[{"type":"text","value":"ライセンス","position":{"start":{"line":464,"column":1},"end":{"line":464,"column":1}},"key":"pwwciA4QBg"}],"identifier":"id","label":"ライセンス","html_id":"id-17","implicit":true,"key":"CRjDe50vUd"},{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"GZ9rNjmcPC"}],"key":"YMoR65J28R"},{"type":"paragraph","position":{"start":{"line":467,"column":1},"end":{"line":470,"column":1}},"children":[{"type":"text","value":"このページの本文と図版は CC BY-NC-SA 4.0 とします。","position":{"start":{"line":467,"column":1},"end":{"line":467,"column":1}},"key":"umMGFot2ug"},{"type":"break","position":{"start":{"line":467,"column":1},"end":{"line":467,"column":1}},"key":"FU82SoBbfK"},{"type":"text","value":"サンプルコードは MIT License とします。","position":{"start":{"line":467,"column":1},"end":{"line":467,"column":1}},"key":"UxbeF28CpC"},{"type":"break","position":{"start":{"line":467,"column":1},"end":{"line":467,"column":1}},"key":"kRsWkTpONN"},{"type":"text","value":"一部の学生作品のスクリーンショットなどはこの限りではありません。","position":{"start":{"line":467,"column":1},"end":{"line":467,"column":1}},"key":"oLfJEKu7Ky"},{"type":"break","position":{"start":{"line":467,"column":1},"end":{"line":467,"column":1}},"key":"TMIIsbjD2q"},{"type":"text","value":"提出物（あなた自身のコードやスクリーンショット）は，ポートフォリオや就職活動で自由に使ってよいものとします。","position":{"start":{"line":467,"column":1},"end":{"line":467,"column":1}},"key":"uZt58RpVN8"}],"key":"GbG34ndqOe"}],"key":"kyD0zgM9xz"}],"key":"NR8xzFnUp1"}],"key":"tQrqxqJ5HT"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"PyGame-CEによるインタラクティブ表現入門その1：PyGame-CEのインストールと実行","url":"/pygame1","group":"流体工学セミナー・教材集"}}},"domain":"http://localhost:3000"},"project":{"title":"流体工学セミナー・教材集","copyright":"2025 KONNO Akihisa","toc":[{"file":"intro.md"},{"file":"miniforge.md"},{"file":"jupyterlab.md"},{"file":"pygame1.md"},{"file":"pygame2.md"}],"exports":[],"bibliography":[],"index":"index","pages":[{"slug":"miniforge","title":"MiniforgeではじめるPythonプログラミング","description":"","date":"","thumbnail":"https://akonno.github.io/FluidSeminarMaterials//build/image1-7b7571f2dab4b2dafa3c8205644a03bc.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"jupyterlab","title":"JupyterLabの導入","description":"","date":"","thumbnail":"https://akonno.github.io/FluidSeminarMaterials//build/jupyterlab01en-b0d0a25ce08ec0f798dc5a92a3a35c81.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"pygame1","title":"PyGame-CEによるインタラクティブ表現入門その1：PyGame-CEのインストールと実行","description":"","date":"","thumbnail":"https://akonno.github.io/FluidSeminarMaterials//build/github-miniforge2.dr-a3eafef29457ae1a21bf2971c5d2c5a1.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"pygame2","title":"PyGame-CEによるインタラクティブ表現入門その2：PyGame-CEの基本とアニメーション","description":"","date":"","thumbnail":"https://akonno.github.io/FluidSeminarMaterials//build/screenshot1-dd16b0e451fc3f3aca7ffa78b0bd824c.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "https://akonno.github.io/FluidSeminarMaterials//build/manifest-06410F0D.js";
import * as route0 from "https://akonno.github.io/FluidSeminarMaterials//build/root-ZJZ4LRPY.js";
import * as route1 from "https://akonno.github.io/FluidSeminarMaterials//build/routes/$-23AHH5XS.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("https://akonno.github.io/FluidSeminarMaterials//build/entry.client-UNPC4GT3.js");</script></body></html>